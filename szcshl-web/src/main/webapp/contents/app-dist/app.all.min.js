!function(){"use strict";angular.module("app",["ui.router","kendo.directives"]).config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("index",{url:"/",templateUrl:rootPath+"/admin/welcome.html",controller:"roleCtrl",controllerAs:"vm"}).state("role",{url:"/role",templateUrl:rootPath+"/role/html/list.html",controller:"roleCtrl",controllerAs:"vm"}).state("roleEdit",{url:"/roleEdit/:id",templateUrl:rootPath+"/role/html/edit.html",controller:"roleEditCtrl",controllerAs:"vm"}).state("user",{url:"/user",templateUrl:rootPath+"/user/html/list.html",controller:"userCtrl",controllerAs:"vm"}).state("userEdit",{url:"/userEdit/:id",templateUrl:rootPath+"/user/html/edit.html",controller:"userEditCtrl",controllerAs:"vm"}).state("org",{url:"/org",templateUrl:rootPath+"/org/html/list.html",controller:"orgCtrl",controllerAs:"vm"}).state("orgEdit",{url:"/orgEdit/:id",templateUrl:rootPath+"/org/html/edit.html",controller:"orgEditCtrl",controllerAs:"vm"}).state("orgUser",{url:"/orgUser/:id",templateUrl:rootPath+"/org/html/orgUser.html",controller:"orgUserCtrl",controllerAs:"vm"}).state("log",{url:"/log",templateUrl:rootPath+"/log/html/list.html",controller:"logCtrl",controllerAs:"vm"}).state("meeting",{url:"/meeting",templateUrl:rootPath+"/meeting/html/list.html",controller:"meetingCtrl",controllerAs:"vm"}).state("meetingEdit",{url:"/meetingEdit/:id",templateUrl:rootPath+"/meeting/html/edit.html",controller:"meetingEditCtrl",controllerAs:"vm"}).state("room",{url:"/room",templateUrl:rootPath+"/room/html/roomlist.html",controller:"roomCtrl",controllerAs:"vm"}).state("roomCount",{url:"/roomCount/:id",templateUrl:rootPath+"/room/html/countlist.html",controller:"roomCountCtrl",controllerAs:"vm"}).state("company",{url:"/company",templateUrl:rootPath+"/company/html/list.html",controller:"companyCtrl",controllerAs:"vm"}).state("companyEdit",{url:"/companyEdit/:id",templateUrl:rootPath+"/company/html/edit.html",controller:"companyEditCtrl",controllerAs:"vm"}).state("accountPwd",{url:"/accountPwd",templateUrl:rootPath+"/account/html/changePwd.html",controller:"homeCtrl",controllerAs:"vm"}).state("demo",{url:"/demo",templateUrl:rootPath+"/demo/html/list.html",controller:"demoCtrl",controllerAs:"vm"}).state("mytest",{url:"/mytest",templateUrl:rootPath+"/mytest/html/list.html",controller:"mytestCtrl",controllerAs:"vm"}).state("mytestrEdit",{url:"/mytestEdit/:id",templateUrl:rootPath+"/mytest/html/edit.html",controller:"mytestEditCtrl",controllerAs:"vm"}).state("dict",{url:"/dict",templateUrl:rootPath+"/dict/html/list.html",controller:"dictCtrl",controllerAs:"vm"}).state("dict.edit",{url:"/edit/:id",templateUrl:rootPath+"/dict/html/edit.html",controller:"dictEditCtrl",controllerAs:"vm"}).state("expert",{url:"/edit/:id",templateUrl:rootPath+"/expert/html/edit.html",controller:"expertCtrl",controllerAs:"vm"}).state("queryAll",{templateUrl:rootPath+"/expert/html/queryAllList.html",controller:"expertCtrl",controllerAs:"vm"}).state("queryRe",{templateUrl:rootPath+"/expert/html/queryReList.html",controller:"expertCtrl",controllerAs:"vm"}).state("audit",{templateUrl:rootPath+"/expert/html/audit.html",controller:"expertCtrl",controllerAs:"vm"}).state("expertEdit",{url:"/expertEdit/:expertID",templateUrl:rootPath+"/expert/html/edit.html",controller:"expertEditCtrl",controllerAs:"vm"}).state("addSign",{url:"/addSign",templateUrl:rootPath+"/sign/html/add.html",controller:"signCreateCtrl",controllerAs:"vm"}).state("fillSign",{url:"/fillSign/:signid",templateUrl:rootPath+"/sign/html/fillin.html",controller:"signFillinCtrl",controllerAs:"vm"}).state("listSign",{url:"/listSign",templateUrl:rootPath+"/sign/html/list.html",controller:"signCtrl",controllerAs:"vm"}).state("flowSign",{url:"/flowSign",templateUrl:rootPath+"/sign/html/flow.html",controller:"signFlowCtrl",controllerAs:"vm"}).state("flowDeal",{url:"/flowDeal/:signid/:taskId/:processInstanceId",templateUrl:rootPath+"/sign/html/flowDeal.html",controller:"signFlowDealCtrl",controllerAs:"vm"}).state("signDetails",{url:"/signDetails/:signid",templateUrl:rootPath+"/sign/html/signDetails.html",controller:"signDetailsCtrl",controllerAs:"vm"}).state("workprogramEdit",{url:"/workprogramEdit/:signid",templateUrl:rootPath+"/workprogram/html/edit.html",controller:"workprogramEditCtrl",controllerAs:"vm"}).state("dispatchEdit",{url:"/dispatchEdit/:signid",templateUrl:rootPath+"/dispatch/html/edit.html",controller:"dispatchEditCtrl",controllerAs:"vm"})}]).run(function(t,e,o,n){t.$state=o,t.$stateParams=n,t.$on("$stateChangeSuccess",function(e,o,n,i,r){t.previousState_name=i.name,t.previousState_params=r}),t.back=function(){o.go(t.previousState_name,t.previousState_params)},t.topSelectChange=function(t,e){for(var o=0;o<e.length;o++)if(e[o].dictName==t)return e[o].dicts},common.initDictData({$http:e,scope:t})})}(),function(){"use strict";function t(t){t?(t.removeData("validator"),t.removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse(t)):($("form").removeData("validator"),$("form").removeData("unobtrusiveValidation"),$.validator.unobtrusive.parse("form"))}function e(t){var e="发生错误,系统已记录,我们会尽快处理！";void 0!=t.response&&(401==t.response.status&&(location.href=k.loginUrl),e=t.response.data.message||e),k.alert({vm:t.vm,msg:e,fn:function(){t.vm.isSubmit=!1,t.vm.disabledButton=!1,$(".alertDialog").modal("hide")}})}function o(t){var e=function(e){k.alert({vm:t.vm,msg:e,fn:function(){t.vm.isSubmit=!1,$(".alertDialog").modal("hide")}})};if(t.response.status>400)e("发生错误！");else{var o=t.response.data;o&&555==o.status?e(o.message):t.fn&&t.fn(o)}}function n(){for(var t=arguments[0],e=1;e<arguments.length;e++){var o=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(o,arguments[e])}return t}function i(t){var e=t.toString().replace(/[^0-9]/g,"");return parseInt(e,10)}function r(t){return isNaN(parseFloat(t,10))?0:parseFloat(t,10)}function a(){return $(window).height()-180}function c(t){t.vm.alertDialogMessage=t.msg,t.vm.alertDialogFn=function(){t.fn?t.fn():$(".alertDialog").modal("hide")},$(".alertDialog").modal({backdrop:"static",keyboard:!1})}function l(t){t.vm.dialogConfirmTitle=t.title,t.vm.dialogConfirmMessage=t.msg,$(".confirmDialog").modal({backdrop:"static"}),t.vm.dialogConfirmSubmit=t.fn}function d(t,e){null==e&&(e=""),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var o=new RegExp("[\\?&]"+t+"=([^&#]*)"),n=o.exec(window.location.href);return null==n?e:n[1]}function m(){return{filterable:{extra:!1,operators:{string:{contains:"包含",eq:"等于"},number:{eq:"等于",neq:"不等于",gt:"大于",lt:"小于"},date:{gt:"大于",lt:"小于"}}},pageable:{pageSize:10,previousNext:!0,buttonCount:5,refresh:!0,pageSizes:!0},schema:function(t){return{data:"value",total:function(t){return t.count},model:t}},transport:function(t,e){return{read:{url:t,dataType:"json",type:"GET",beforeSend:function(t){t.setRequestHeader("Token",k.getToken())},data:function(){if(e){var t=common.buildOdataFilter(e);return t?{$filter:t}:{}}return{}}}}},noRecordMessage:{template:"暂时没有数据."}}}function s(t){var e=$(t).find("tr td:nth-child(1)").find("input:checked"),o=[];return e.each(function(){var t=$(this).attr("relId");o.push({name:"id",value:t})}),o}function u(t){t.headers={Token:k.getToken()},t.$http(t.httpOptions).then(t.success,function(e){common.requestError({vm:t.vm,response:e})})}function f(){return{get:function(t,e){var o=this.getAll(t);return o?o[e]:null},getAll:function(t){var e=encodeURIComponent(t)+"=",o=document.cookie.indexOf(e),n=null,i={};if(o>-1){var r=document.cookie.indexOf(";",o);if(-1==r&&(r=document.cookie.length),n=document.cookie.substring(o+e.length,r),n.length>0){for(var a=n.split("&"),c=0,l=a.length;c<l;c++){var d=a[c].split("=");i[decodeURIComponent(d[0])]=decodeURIComponent(d[1])}return i}}return null},set:function(t,e,o,n,i,r,a){var c=this.getAll(t)||{};c[e]=o,this.setAll(t,c,n,i,r,a)},setAll:function(t,e,o,n,i,r){var a=encodeURIComponent(t)+"=",c=new Array;for(var l in e)l.length>0&&e.hasOwnProperty(l)&&c.push(encodeURIComponent(l)+"="+encodeURIComponent(e[l]));c.length>0?(a+=c.join("&"),o instanceof Date&&(a+=";expires="+o.toGMTString()),n&&(a+=";path="+n),i&&(a+=";domain="+i),r&&(a+=";secure")):a+=";expires="+new Date(0).toGMTString(),document.cookie=a},unset:function(t,e,o,n,i){var r=this.getAll(t);r&&(delete r[e],this.setAll(t,r,null,o,n,i))},unsetAll:function(t,e,o,n){this.setAll(t,null,new Date(0),e,o,n)}}}function p(){var t=f().getAll("data");return null!=t?t.token:""}function h(t){return t.error=function(t){401==t.status&&(location.href=k.loginUrl)},t}function g(t){var e=new Array,o=0;$(t).find("input,radio,select,textarea").each(function(t,n){if(n.name&&n.value){var i={};$(this).attr("operator")?i.operator=$(this).attr("operator"):i.operator="eq",i.name=n.name,i.value=n.value,e[o]=i,o++}});var n=0,i="";return $.each(e,function(){this.value&&(n>0&&(i+=" and "),i+=this.name+" "+this.operator+" '"+this.value+"'",n++)}),i}function v(t){t.$http({method:"get",url:rootPath+"/dict/dictItems"}).then(function(e){t.scope.dictMetaData=e.data;var o={};b(o,e.data),t.scope.DICT=o},function(t){alert("初始化数据字典失败")})}function b(t,e,o){if(e&&0!=e.length)if(o)for(var n=0;n<e.length;n++){var i=e[n];if(i.parentId&&i.parentId==o){t.dicts||(t.dicts=new Array);var r={};r.dictId=i.dictId,r.dictName=i.dictName,t.dicts.push(r),b(r,e,i.dictId)}}else for(var n=0;n<e.length;n++){var i=e[n];i.parentId||(t[i.dictCode]={},t[i.dictCode].dictId=i.dictId,t[i.dictCode].dictName=i.dictName,b(t[i.dictCode],e,i.dictId))}}var k={initJqValidation:t,requestError:e,requestSuccess:o,format:n,blockNonNumber:i,floatNumberInput:r,adminContentHeight:a,alert:c,confirm:l,getQuerystring:d,kendoGridConfig:m,getKendoCheckId:s,cookie:f,getToken:p,appPath:"",http:u,gridDataSource:h,loginUrl:window.rootPath+"/home/login",buildOdataFilter:g,initDictData:v};window.common=k,function(){$(document).on("click","#checkboxAll",function(){var t=$(this).is(":checked");$(".grid").find("tr td:nth-child(1)").find("input:checkbox").prop("checked",t)}),$("body").on("click",".grid tr",function(t){$(this).parent().find("tr").removeClass("selected"),$(this).addClass("selected")})}()}(),function(){"use strict";function t(t,e){var o=this;o.title="单位列表",o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deletecompany(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o)}()}angular.module("app").controller("companyCtrl",t),t.$inject=["$location","companySvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="新增单位",n.iscompanyExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新单位"),n.create=function(){e.createcompany(n)},n.update=function(){e.updatecompany(n)},function(){n.isUpdate&&e.getcompanyById(n)}()}angular.module("app").controller("companyEditCtrl",t),t.$inject=["$location","companySvc","$state"]}(),function(){"use strict";function t(t,e){function o(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(c),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"coName",title:"单位名称",width:200,filterable:!1},{field:"coPhone",title:"单位电话",width:200,filterable:!1},{field:"coPC",title:"邮编",width:200,filterable:!1},{field:"coAddress",title:"地址",width:200,filterable:!1},{field:"coSite",title:"网站",width:200,filterable:!1},{field:"coSynopsis",title:"单位简介",width:200,filterable:!1},{field:"coFax",title:"传真",filterable:!1},{field:"",title:"操作",width:280,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}function n(e){if(common.initJqValidation(),$("form").valid()&&0==e.iscompanyExist){e.isSubmit=!0;var o={method:"post",url:c,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),location.href=l}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function i(e){var o={method:"get",url:common.format(c+"?$filter=id eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0],e.isUpdate};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(e){if(common.initJqValidation(),$("form").valid()&&0==e.iscompanyExist){e.isSubmit=!0,e.model.id=e.id;var o={method:"put",url:c,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function a(e,o){e.isSubmit=!0;var n={method:"delete",url:c,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}var c=rootPath+"/company",l="#/company";rootPath;return{grid:o,createcompany:n,getcompanyById:i,updatecompany:r,deletecompany:a}}angular.module("app").factory("companySvc",t),t.$inject=["$http","$compile"]}(),function(){"use strict";function t(t,e){function o(){$("#datepicker").kendoDatePicker({culture:"zh-CN"})}function n(){$("#files").kendoUpload({async:{saveUrl:"/demo/save",removeUrl:"/demo/remove",autoUpload:!0}})}var i=this;i.title="",i.showDialog=function(){$(".myDialog").modal({backdrop:"static",keyboard:!1})},function(){o(),n()}()}angular.module("app").controller("demoCtrl",t),t.$inject=["$location","demoSvc"]}(),function(){"use strict";function t(t){function e(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0;var n={method:"put",url:o,data:e.model.password},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}}var o="/account/password";return{upload:e}}angular.module("app").factory("demoSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="字典",n.model={},n.del=function(t){common.confirm({vm:n,title:"",msg:"删除字典将会连下级字典一起删除，确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteDict(n,t)}})},n.dels=function(){var t=n.dictsTree.getSelectedNodes();t&&t.length>0?n.del(t[0].id):common.alert({vm:n,msg:"请选择数据"})},function(){e.initDictTree(n)}()}angular.module("app").controller("dictCtrl",t),t.$inject=["$location","dictSvc","$scope"]}(),function(){"use strict";function t(t,e,o,n){var i=this;i.title="增加字典",i.model={},i.id=n.params.id,i.id&&(i.isUpdate=!0,i.title="编辑字典"),i.createDict=function(){o.createDict(i)},i.updateDict=function(){o.updateDict(i)},i.dictTypeChange=function(){i.model.dictType&&(i.model.dictKey="")},i.apply=function(){t.$apply()},function(){i.isUpdate?o.getDictById(i):(i.model.dictCode="",o.initpZtreeClient(i))}()}angular.module("app").controller("dictEditCtrl",t),t.$inject=["$scope","$location","dictSvc","$state"]}(),function(){"use strict";function t(t,e,o){function n(e){var o={method:"get",url:common.format(f+"?dictCode={0}","DICT_SEX")},n=function(t){};common.http({vm:e,$http:t,httpOptions:o,success:n})}function i(e){var o={method:"get",url:u},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){if(e.treeData={},e.treeData=t.data.value,e.isUpdate&&e.treeData&&e.model.parentId)for(var o=0;o<e.treeData.length;o++)if(e.treeData[o].dictId==e.model.parentId){e.model.parentDictName=e.treeData[o].dictName;break}}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(o,n){o.isSubmit=!0;var i={method:"delete",url:u,data:n},r=function(t){common.requestSuccess({vm:o,response:t,fn:function(){o.isSubmit=!1,location.href=s,common.alert({vm:o,msg:"操作成功",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),e.go("dict",{},{reload:!0})}})}})};common.http({vm:o,$http:t,httpOptions:i,success:r})}function a(o){common.initJqValidation();var n=$("form").valid(),i=o.zpTree.getCheckedNodes(!0);if(i&&i.length>0&&(o.model.parentId=i[0].id),n){o.isSubmit=!0;var r={method:"post",url:u,data:o.model},a=function(t){common.requestSuccess({vm:o,response:t,fn:function(){common.alert({vm:o,msg:"操作成功",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),e.go("dict",{},{reload:!0})}})}})};common.http({vm:o,$http:t,httpOptions:r,success:a})}}function c(o){if(common.initJqValidation(),$("form").valid()){o.isSubmit=!0;var n={method:"put",url:u,data:o.model},i=function(t){common.requestSuccess({vm:o,response:t,fn:function(){common.alert({vm:o,msg:"操作成功",fn:function(){o.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),e.go("dict.edit",{id:o.model.dictId},{reload:!0})}})}})};common.http({vm:o,$http:t,httpOptions:n,success:i})}}function l(o){var n={method:"get",url:u},i=function(t){common.requestSuccess({vm:o,response:t,fn:function(){function n(t,o,n){e.go("dict.edit",{id:n.id})}var i,r={callback:{onClick:n},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pId"}}},a=$linq(t.data.value).select(function(t){var e=null;return t.parentId&&(e=t.parentId),{id:t.dictId,name:t.dictName,pId:e}}).toArray();i=$.fn.zTree.init($("#zTree"),r,a),o.dictsTree=i}})};common.http({vm:o,$http:t,httpOptions:n,success:i})}function d(e){var o={method:"get",url:u},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){var o={check:{enable:!0,chkStyle:"radio",radioType:"all"},callback:{},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pId"}}},n=$linq(t.data.value).select(function(t){var e;return t.parentId&&(e=t.parentId),{id:t.dictId,name:t.dictName,pId:e}}).toArray();e.zpTree=$.fn.zTree.init($("#pzTree"),o,n)}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function m(e){var o={method:"get",url:common.format(u+"?$filter=dictId eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0],i(e)};common.http({vm:e,$http:t,httpOptions:o,success:n})}var s="#/dict",u=rootPath+"/dict",f=rootPath+"/dict/dictNameData";return{initDictTree:l,createDict:a,getDictById:m,updateDict:c,deleteDict:r,initpZtreeClient:d,getTreeData:i,getdictItems:n}}angular.module("app").factory("dictSvc",t),t.$inject=["$http","$state","$location"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="项目发文编辑",n.dispatchDoc={},n.dispatchDoc.signId=o.params.signid,e.initDispatchData(),n.create=function(){e.saveDispatch(n)}}angular.module("app").controller("dispatchEditCtrl",t),t.$inject=["$location","dispatchSvc","$state"]}(),function(){"use strict";function t(t,e){function o(){}function n(o){if(common.initJqValidation($("#dispatch_form")),$("#dispatch_form").valid()){o.saveProcess=!0;var n={method:"post",url:rootPath+"/dispatch",data:o.dispatchDoc},i=function(e){common.requestSuccess({vm:o,response:e,fn:function(){common.alert({vm:o,msg:"操作成功,请继续处理流程！",fn:function(){t.back()}})}})};common.http({vm:o,$http:e,httpOptions:n,success:i})}}return{initDispatchData:o,saveDispatch:n}}angular.module("app").factory("dispatchSvc",t),t.$inject=["$rootScope","$http"]}(),function(){"expert strict";function t(t,e){var o=this;o.data={},o.titles="专家列表",o.search=function(){e.searchMuti(o)},o.searchAudit=function(){e.searchMAudit(o)},o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteExpert(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},o.forward=function(t){var n=common.getKendoCheckId("#grid1");if(0==n.length)common.alert({vm:o,msg:"请选择数据"});else{for(var i=[],r=0;r<n.length;r++)i.push(n[r].value);var a=i.join(",");e.updateAudit(o,a,t)}},o.back=function(t){var n=common.getKendoCheckId("#grid"+t);if(0==n.length)common.alert({vm:o,msg:"请选择数据"});else{for(var i=[],r=0;r<n.length;r++)i.push(n[r].value);var a=i.join(",");e.updateAudit(o,a,5)}},function(){e.grid(o,rootPath+"/expert"),e.gridAudit(o,rootPath+"/expert?$filter=state eq '1'",1),e.gridAudit(o,rootPath+"/expert?$filter=state eq '2'",2),e.gridAudit(o,rootPath+"/expert?$filter=state eq '3'",3),e.gridAudit(o,rootPath+"/expert?$filter=state eq '4'",4),e.gridAudit(o,rootPath+"/expert?$filter=state eq '5'",5)}()}angular.module("app").controller("expertCtrl",t),t.$inject=["$location","expertSvc"]}(),function(){"expert strict";function t(t,e,o,n,i){var r=this;r.title="专家录入",r.isuserExist=!1,r.isHide=!0,r.id=i.params.expertID,r.id&&(r.isUpdate=!0,r.title="更新专家",r.isHide=!1,r.expertID=r.id,n.getExpertById(r)),r.create=function(){n.createExpert(r)},r.update=function(){n.updateExpert(r)},r.gotoWPage=function(){o.gotoWPage(r)},r.updateWork=function(){o.updateWork(r)},r.createWork=function(){o.createWork(r)},r.saveWork=function(){o.saveWork(r)},r.deleteWork=function(){o.deleteWork(r)},r.onWClose=function(){window.parent.$("#wrwindow").data("kendoWindow").close()},r.onPClose=function(){window.parent.$("#pjwindow").data("kendoWindow").close()},r.gotoJPage=function(){e.gotoJPage(r)},r.updateProject=function(){e.updateProject(r)},r.createProject=function(){e.createProject(r)},r.saveProject=function(){e.saveProject(r)},r.delertProject=function(){e.delertProject(r)},function(){kendo.culture("zh-CN"),$("#birthDay").kendoDatePicker({format:"yyyy-MM-dd",weekNumber:!0}),$("#createDate").kendoDatePicker({format:"yyyy-MM-dd",weekNumber:!0}),$("#beginTime").kendoDatePicker({format:"yyyy-MM-dd",weekNumber:!0}),$("#endTime").kendoDatePicker({format:"yyyy-MM-dd",weekNumber:!0}),$("#projectendTime").kendoDatePicker({format:"yyyy-MM-dd",weekNumber:!0}),$("#projectbeginTime").kendoDatePicker({format:"yyyy-MM-dd",weekNumber:!0}),r.isUpdate}()}angular.module("app").controller("expertEditCtrl",t),t.$inject=["$location","projectExpeSvc","workExpeSvc","expertSvc","$state"]}(),function(){"expert strict";function t(t){function e(e,o,n){e.isSubmit=!0;var i={method:"post",url:u+"/updateAudit",params:{id:o,flag:n}},r=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions1.dataSource.read(),e.gridOptions2.dataSource.read(),e.gridOptions3.dataSource.read(),e.gridOptions4.dataSource.read(),e.gridOptions5.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:i,success:r})}function o(e){common.initJqValidation();$("form").valid();e.isSubmit=!0,e.model.expertID=e.expertID,e.model.birthDay=$("#birthDay").val(),e.model.createDate=$("#createDate").val();var o={method:"put",url:u,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function n(e,o){e.isSubmit=!0;var n={method:"delete",url:u,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function i(e){var o=common.buildOdataFilter($("#form")),n={method:"get",url:u+"?$filter="+o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions.dataSource.data([]),e.gridOptions.dataSource.data(t.data.value),e.gridOptions.dataSource.total(t.data.count)}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function r(e){var o=common.buildOdataFilter($("#form")),n={method:"get",url:u+"?$filter="+o+" and state eq '1'"},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions1.dataSource.data([]),e.gridOptions1.dataSource.data(t.data.value),e.gridOptions1.dataSource.total(t.data.count)}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function a(e,o){var n={method:"GET",url:rootPath+"/dict/dictMapItems",params:{dictCodes:o}},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.sex=t.data.SEX,e.qualifiCations=t.data.QUALIFICATIONS,e.degRee=t.data.DEGREE,e.job=t.data.JOB,e.title=t.data.TITLE,e.expeRttype=t.data.EXPERTTYPE,e.procoSttype=t.data.PROCOSTTYPE,e.proteChtype=t.data.PROTECHTYPE,e.expertrange=t.data.EXPERTRANGE}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function c(e){common.initJqValidation();$("form").valid();e.model.birthDay=$("#birthDay").val(),e.model.createDate=$("#createDate").val();var o={method:"post",url:u,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isUpdate=!1,e.isHide=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),e.model.expertID=t.data.expertID}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function l(e){var o={method:"get",url:common.format(u+"?$filter=expertID eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0],e.work=t.data.value[0].work,e.project=t.data.value[0].project,console.log(e.model),e.isUpdate};common.http({vm:e,$http:t,httpOptions:o,success:n})}function d(t){return new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(t),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}})}function m(t,e,o){var n=d(e),i=function(){var t=this.items(),e=this.pager.page()-1,o=this.pager.pageSize();$(t).each(function(){var t=$(this).index()+1+e*o,n=$(this).find(".row-number");$(n).html(t)})},r=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.expertID)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"rowNumber",title:"序号",width:100,template:"<span class='row-number'></span>"},{field:"name",title:"姓名",width:100,filterable:!1},{field:"sex",title:"性别",width:50,filterable:!1},{field:"expeRttype",title:"区域类别",width:100,filterable:!1},{field:"comPany",title:"工作单位",width:100,filterable:!1},{field:"userPhone",title:"手机",width:100,filterable:!1},{field:"comPany",title:"工作单位",width:100,filterable:!1},{field:"degRee",title:"职务",width:100,filterable:!1},{field:"maJor",title:"现从事专业",width:100,filterable:!1},{field:"acaDemy",title:"毕业院校",width:100,filterable:!1}];1==o?t.gridOptions1={dataSource:common.gridDataSource(n),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:r,dataBound:i,resizable:!0}:2==o?t.gridOptions2={dataSource:common.gridDataSource(n),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:r,dataBound:i,resizable:!0}:3==o?t.gridOptions3={dataSource:common.gridDataSource(n),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:r,dataBound:i,resizable:!0}:4==o?t.gridOptions4={dataSource:common.gridDataSource(n),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:r,dataBound:i,resizable:!0}:5==o&&(t.gridOptions5={dataSource:common.gridDataSource(n),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:r,dataBound:i,resizable:!0})}function s(t,e){var o=d(e),n=function(){var t=this.items(),e=this.pager.page()-1,o=this.pager.pageSize();$(t).each(function(){var t=$(this).index()+1+e*o,n=$(this).find(".row-number");$(n).html(t)})},i=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.expertID)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"rowNumber",title:"序号",width:50,template:"<span class='row-number'></span>"},{field:"name",title:"姓名",width:100,filterable:!0},{field:"sex",title:"性别",width:50,filterable:!0},{field:"degRee",title:"学位",width:100,filterable:!0},{field:"userPhone",title:"手机号码",width:100,filterable:!0},{field:"comPany",title:"工作单位",width:100,filterable:!0},{field:"degRee",title:"职务",width:100,filterable:!0},{field:"idCard",title:"身份证号",width:100,filterable:!0},{field:"maJor",title:"现从事专业",width:100,filterable:!0},{field:"acaDemy",title:"毕业院校",width:100,filterable:!0},{field:"expeRttype",title:"专家类别",width:100,filterable:!0},{field:"",title:"操作",width:100,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.expertID+"')",t.expertID)}}];t.gridOptions={dataSource:common.gridDataSource(o),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:i,dataBound:n,resizable:!0}}var u=rootPath+"/expert";return{grid:s,getExpertById:l,createExpert:c,deleteExpert:n,updateExpert:o,searchMuti:i,getDict:a,gridAudit:m,updateAudit:e,searchMAudit:r}}angular.module("app").factory("expertSvc",t),t.$inject=["$http"]}(),function(){"projectExpe strict";function t(t){function e(e){common.initJqValidation();var o=$("input[name='checkpj']:checked");if(o.length<1)common.alert({vm:e,msg:"请选择操作对象",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}});else{var n="";$.each(o,function(t,e){n+=e.value+","}),e.isSubmit=!0;var r={method:"delete",url:rootPath+"/projectExpe/deleteProject",data:n},a=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,i(e)}})};common.http({vm:e,$http:t,httpOptions:r,success:a})}}function o(e){var o={method:"get",url:common.format(rootPath+"/projectExpe/getProject?$filter=peID eq '{0}'",e.peID)},n=function(t){e.model=t.data[0],e.isUpdate};common.http({vm:e,$http:t,httpOptions:o,success:n})}function n(e){e.isSubmit=!0,e.model.peID=e.peID,e.model.expertID=e.expertID,e.model.projectbeginTime=$("#projectbeginTime").val(),e.model.projectendTime=$("#projectendTime").val();var o={method:"put",url:rootPath+"/projectExpe/updateProject",data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){window.parent.$("#pjwindow").data("kendoWindow").close(),i(e),common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function i(e){var o={method:"GET",url:rootPath+"/projectExpe/getProject?$filter=expert.expertID eq '"+e.model.expertID+"'"},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.project=t.data}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(t){var e=$("input[name='checkpj']:checked");e.length<1?common.alert({vm:t,msg:"请选择操作对象",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}}):e.length>1?common.alert({vm:t,msg:"无法同时操作多条数据",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}}):(t.peID=e.val(),o(t),t.expertID=t.model.expertID,a(t))}function a(t){$("#pjwindow").kendoWindow({width:"1000px",height:"500px",title:"添加工作经历",visible:!1,modal:!0,closable:!0,actions:["Pin","Minimize","Maximize","Close"]}).data("kendoWindow").center().open()}function c(){var t=$("#pjwindow").find("input");$.each(t,function(t,e){e.value=""})}function l(e){common.initJqValidation();$("form").valid();e.model.projectbeginTime=$("#projectbeginTime").val(),e.model.projectendTime=$("#projectendTime").val();var o={method:"post",url:rootPath+"/projectExpe/projectExpe",data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){
window.parent.$("#pjwindow").data("kendoWindow").close(),c(),i(e),common.alert({vm:e,msg:"操作成功",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}return{getProject:i,createProject:l,updateProject:r,saveProject:n,getProjectById:o,delertProject:e,gotoJPage:a}}angular.module("app").factory("projectExpeSvc",t),t.$inject=["$http"]}(),function(){"workExpe strict";function t(t){function e(e){var o={method:"GET",url:rootPath+"/workExpe/getWork?$filter=expert.expertID eq '"+e.model.expertID+"'"},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.work=t.data}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function o(o){common.initJqValidation();var n=$("input[name='checkwr']:checked");if(n.length<1)common.alert({vm:o,msg:"请选择操作对象",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}});else{var i="";$.each(n,function(t,e){i+=e.value+","}),o.isSubmit=!0;var r={method:"delete",url:rootPath+"/workExpe/deleteWork",data:i},a=function(t){common.requestSuccess({vm:o,response:t,fn:function(){o.isSubmit=!1,e(o)}})};common.http({vm:o,$http:t,httpOptions:r,success:a})}}function n(t){var e=$("input[name='checkwr']:checked");e.length<1?common.alert({vm:t,msg:"请选择操作对象",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}}):e.length>1?common.alert({vm:t,msg:"无法同时操作多条数据",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}}):(t.weID=e.val(),i(t),t.expertID=t.model.expertID,a(t))}function i(e){var o={method:"get",url:common.format(rootPath+"/workExpe/getWork?$filter=weID eq '{0}'",e.weID)},n=function(t){e.model=t.data[0],e.isUpdate};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(){var t=$("#wrwindow").find("input");$.each(t,function(t,e){e.value=""})}function a(t){$("#wrwindow").kendoWindow({width:"1000px",height:"500px",title:"添加工作经历",visible:!1,modal:!0,closable:!0,actions:["Pin","Minimize","Maximize","Close"]}).data("kendoWindow").center().open()}function e(e){var o={method:"GET",url:rootPath+"/workExpe/getWork?$filter=expert.expertID eq '"+e.model.expertID+"'"},n=function(t){console.log(t),common.requestSuccess({vm:e,response:t,fn:function(){e.work=t.data}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function c(o){o.isSubmit=!0,o.model.weID=o.weID,o.model.expertID=o.expertID,o.model.beginTime=$("#beginTime").val(),o.model.endTime=$("#endTime").val();var n={method:"put",url:rootPath+"/workExpe/updateWork",data:o.model},i=function(t){common.requestSuccess({vm:o,response:t,fn:function(){window.parent.$("#wrwindow").data("kendoWindow").close(),e(o),common.alert({vm:o,msg:"操作成功",fn:function(){o.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:o,$http:t,httpOptions:n,success:i})}function l(o){$("form").valid();o.model.beginTime=$("#beginTime").val(),o.model.endTime=$("#endTime").val();var n={method:"post",url:rootPath+"/workExpe/workExpe",data:o.model},i=function(t){common.requestSuccess({vm:o,response:t,fn:function(){r(),window.parent.$("#wrwindow").data("kendoWindow").close(),e(o),common.alert({vm:o,msg:"操作成功",fn:function(){$(".alertDialog").modal("hide"),$(".modal-backdrop").remove()}})}})};common.http({vm:o,$http:t,httpOptions:n,success:i})}return{createWork:l,saveWork:c,deleteWork:o,updateWork:n,gotoWPage:a,getWorkById:i,getWork:e}}angular.module("app").factory("workExpeSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e){function o(t){var e=t.flow.processInstanceId;t.picture=rootPath+"/flow/proccessInstance/img/"+e;var o=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(rootPath+"/flow/proccessInstance/history/"+e),schema:common.kendoGridConfig().schema({id:"id"}),rowNumber:!0,headerCenter:!0}),n=[{field:"",title:"序号",template:"<span class='row-number'></span>",width:30},{field:"activityName",title:"环节名称",width:120,filterable:!1},{field:"assignee",title:"处理人",width:80,filterable:!1},{field:"startTime",title:"开始时间",width:120,filterable:!1,template:"#=  (startTime == null)? '' : kendo.toString(new Date(startTime), 'yyyy-MM-dd hh:mm:ss') #"},{field:"",title:"结束时间",width:120,filterable:!1,template:function(t){return t.endTime?kendo.toString(new Date(t.endTime),"yyyy-MM-dd hh:mm:ss"):" "}},{field:"duration",title:"处理时长",width:120,filterable:!1},{field:"message",title:"处理信息",width:300,filterable:!1}];t.historygrid={dataSource:common.gridDataSource(o),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:n,resizable:!0,dataBound:function(){var t=this.items();this.pager.pageSize();$(t).each(function(t){$(this).find(".row-number").html(t+1)})}}}function n(e){var o={method:"get",url:rootPath+"/flow/proccessInstance/nextNodeDeal",params:{proccessInstanceId:e.flow.processInstanceId}},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.flow.nextGroup=t.data.nextGroup,e.nextDealUserList=t.data.nextDealUserList,t.data.nextDealUserList&&(e.flow.nextDealUser=t.data.nextDealUserList[0].loginName),t.data.curNode&&(e.flow.curNodeName=t.data.curNode.activitiName,e.flow.curNodeAcivitiId=t.data.curNode.activitiId,"approval"==t.data.curNode.activitiId&&e.hideWorkBt()),t.data.nextNode&&(e.nextNode=t.data.nextNode,e.flow.nextNodeAcivitiId=t.data.nextNode[0].activitiId),e.isOverStep=t.data.isEnd,e.isHaveNext=1!=t.data.isEnd}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function i(e){if(common.initJqValidation($("#flow_form")),$("#flow_form").valid()){r(e);var o={method:"post",url:rootPath+"/flow/commit",data:e.flow},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){"error"==t.data.reCode&&a(e),common.alert({vm:e,msg:t.data.reMsg})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function r(t){t.disabledButton=!0}function a(t){t.disabledButton=!1}return{initFlowData:o,getNextStepInfo:n,commit:i,disableButton:r,enableButton:a}}angular.module("app").factory("flowSvc",t),t.$inject=["$http","$state"]}(),function(){"use strict";function t(t,e){var o=this;o.title="",o.changePwd=function(){e.changePwd(o)}}angular.module("app").controller("homeCtrl",t),t.$inject=["$location","homeSvc"]}(),function(){"use strict";function t(t){function e(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0;var n={method:"put",url:o,data:e.model.password},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}}var o="/account/password";return{changePwd:e}}angular.module("app").factory("homeSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e){var o=this;o.title="日志列表",function(){e.grid(o)}()}angular.module("app").controller("logCtrl",t),t.$inject=["$location","logSvc"]}(),function(){"use strict";function t(t,e){function o(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(n),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{field:"id",title:"ID",width:80,filterable:!1},{field:"level",title:"级别",width:100,filterable:!0},{field:"message",title:"日志内容",filterable:!1},{field:"userId",title:"操作者",width:150,filterable:!0},{field:"createdDate",title:"操作时间",width:180,filterable:!1,format:"{0:yyyy/MM/dd HH:mm:ss}"}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}var n=rootPath+"/log";rootPath;return{grid:o}}angular.module("app").factory("logSvc",t),t.$inject=["$http","$compile"]}(),function(){"use strict";function t(t,e){var o=this;o.title="会议室列表",o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteMeeting(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o)}()}angular.module("app").controller("meetingCtrl",t),t.$inject=["$location","meetingSvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="添加会议室",n.isuserExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新会议室"),n.create=function(){e.createMeeting(n)},n.update=function(){e.updateMeeting(n)},function(){n.isUpdate&&e.getMeetingById(n)}()}angular.module("app").controller("meetingEditCtrl",t),t.$inject=["$location","meetingSvc","$state"]}(),function(){"use strict";function t(t){function e(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0,e.model.id=e.id;var o={method:"put",url:c,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function o(e,o){e.isSubmit=!0;var n={method:"delete",url:c,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function n(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0;var o={method:"post",url:c,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),location.href=l}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function i(e){var o={method:"get",url:url_role},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){var o={check:{chkboxType:{Y:"ps",N:"ps"},enable:!0}},n=$linq(t.data.value).select(function(t){return{id:t.id,name:t.roleName}}).toArray(),i={id:"",name:"角色集合",children:n};$.fn.zTree.init($("#zTree"),o,i),e.isUpdate}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(e){var o={method:"get",url:common.format(c+"?$filter=id eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0],e.isUpdate};common.http({vm:e,$http:t,httpOptions:o,success:n})}function a(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(c),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"num",title:"会议室编号",width:200,filterable:!0},{field:"mrName",title:"会议室名称",width:200,filterable:!0},{field:"addr",title:"会议室地点",filterable:!1},{field:"mrStatus",title:"会议室状态",filterable:!1},{field:"capacity",title:"会议室容量（人）",filterable:!1},{field:"userName",title:"会议室负责人",filterable:!1},{field:"userPhone",title:"负责人电话",filterable:!1},{field:"createDate",title:"创建时间",filterable:!1},{field:"mrType",title:"会议室类型",width:180,filterable:!1},{field:"",title:"操作",width:180,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}var c=rootPath+"/meeting",l="#/meeting";return{grid:a,getMeetingById:r,initZtreeClient:i,createMeeting:n,deleteMeeting:o,updateMeeting:e}}angular.module("app").factory("meetingSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e){var o=this;o.title="My test",o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteMytest(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o)}()}angular.module("app").controller("mytestCtrl",t),t.$inject=["$location","mytestSvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="添加My test",n.isuserExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新My test"),n.create=function(){e.createMytest(n)},n.update=function(){e.updateMytest(n)},function(){n.isUpdate&&e.getMytestById(n)}()}angular.module("app").controller("mytestEditCtrl",t),t.$inject=["$location","mytestSvc","$state"]}(),function(){"use strict";function t(t){function e(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0,e.model.id=e.id;var o={method:"put",url:a,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function o(e,o){e.isSubmit=!0;var n={method:"delete",url:a,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function n(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0;var o={method:"post",url:a,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),location.href=c}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function i(e){var o={method:"get",url:common.format(a+"?$filter=id eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0]};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(a),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"id",title:"主键",width:100,filterable:!0},{field:"testName",title:"显示名",width:100,filterable:!0},{field:"test01",title:"test01",width:80,filterable:!1},{field:"test02",title:"test02",width:80,filterable:!1},{field:"",title:"创建时间",width:80,filterable:!1,template:function(t){return t.createdDate?kendo.toString(new Date(t.createdDate),"yyyy-MM-dd hh:mm:ss"):" "}},{field:"",title:"更新时间",width:80,filterable:!1,template:function(t){return t.modifiedDate?kendo.toString(new Date(t.modifiedDate),"yyyy-MM-dd hh:mm:ss"):" "}},{field:"",title:"操作",width:140,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}var a=rootPath+"/mytest",c="#/mytest";return{grid:r,getMytestById:i,createMytest:n,deleteMytest:o,updateMytest:e}}angular.module("app").factory("mytestSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e){var o=this;o.title="部门列表",o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteOrg(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o)}()}angular.module("app").controller("orgCtrl",t),t.$inject=["$location","orgSvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="新增部门",n.isorgExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新部门"),n.create=function(){e.createOrg(n)},n.update=function(){e.updateOrg(n)},function(){n.isUpdate&&e.getOrgById(n)}()}angular.module("app").controller("orgEditCtrl",t),t.$inject=["$location","orgSvc","$state"]}(),function(){"use strict";function t(t,e){function o(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(l),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"orgIdentity",title:"部门标识",width:80,filterable:!1},{field:"name",title:"部门名称",width:130,filterable:!1},{field:"orgPhone",title:"电话",width:130,filterable:!1},{field:"orgFax",title:"传真",width:130,filterable:!1},{field:"orgAddress",title:"地址",width:130,filterable:!1},{field:"orgFunction",title:"职能",width:130,filterable:!1},{field:"orgDirectorName",title:"科长",width:100,filterable:!1},{field:"orgAssistantName",title:"副科长",width:100,filterable:!1},{field:"orgCompanyName",title:"单位名称",width:130,filterable:!1},{field:"remark",title:"描述",width:130,filterable:!1},{field:"createdDate",title:"创建时间",width:180,filterable:!1,format:"{0:yyyy/MM/dd HH:mm:ss}"},{field:"",title:"操作",width:200,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}function n(e){if(common.initJqValidation(),$("form").valid()&&0==e.isorgExist){e.isSubmit=!0;var o={method:"post",url:l,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),location.href=d}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function i(e){var o={method:"get",url:common.format(l+"/getCompany")},n=function(t){e.company={},e.company=t.data};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(e){var o={method:"get",url:l+"/html/getOrgById",params:{id:e.id}},n=function(t){t.data.userDtos&&(e.userDtos={},e.userDtos=t.data.userDtos),e.model=t.data};common.http({vm:e,$http:t,httpOptions:o,success:n})}function a(e){if(common.initJqValidation(),$("form").valid()&&0==e.isorgExist){e.isSubmit=!0,e.model.id=e.id;var o={method:"put",url:l,data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}}function c(e,o){e.isSubmit=!0;var n={method:"delete",url:l,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}var l=rootPath+"/org",d="#/org";rootPath;return{grid:o,createOrg:n,getOrgById:r,updateOrg:a,deleteOrg:c,getCompany:i}}angular.module("app").factory("orgSvc",t),t.$inject=["$http","$compile"]}(),function(){"use strict";function t(t,e,o,n){var i=this;i.id=e.params.id,i.showAddUserDialog=function(){$(".addUser").modal({backdrop:"static",keyboard:!1}),i.orgUserGrid.dataSource.read()},i.closeAddUserDialog=function(){$(".addUser").modal("hide")},i.add=function(t){n.add(i,t)},i.remove=function(t){n.remove(i,t)},i.removes=function(){var t=common.getKendoCheckId(".orgUserGrid");if(0==t.length)common.alert({vm:i,msg:"请选择数据"});else{for(var e=[],o=0;o<t.length;o++)e.push(t[o].value);var n=e.join(",");i.remove(n)}},function(){o.getOrgById(i),n.orgUserGrid(i),n.allUserGrid(i)}()}angular.module("app").controller("orgUserCtrl",t),t.$inject=["$location","$state","orgSvc","orgUserSvc"]}(),function(){"use strict";function t(t,e){function o(e,o){var n={method:"delete",url:common.format(c,e.id),data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function n(e,o){var n={method:"post",url:common.format(c,e.id),data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.orgUserGrid.dataSource.read(),e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function i(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(common.format(a,t.id)),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{field:"loginName",title:"登录名",width:200,filterable:!0},{field:"displayName",title:"显示名",width:200,filterable:!0},{field:"comment",title:"描述",filterable:!1},{field:"",title:"操作",width:80,template:function(t){return common.format($("#allUserGridBtns").html(),"vm.add('"+t.id+"')",t.id)}}];t.orgUserGrid={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}function r(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(common.format(c,t.id)),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!1,serverSorting:!1,serverFiltering:!1,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"loginName",title:"登录名",width:200,filterable:!1},{field:"displayName",title:"显示名",width:200,filterable:!1},{field:"comment",title:"描述",filterable:!1},{field:"",title:"操作",width:180,template:function(t){return common.format($("#columnBtns").html(),"vm.remove('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}var a="/org/{0}/userNotIn",c="/org/{0}/users";return{orgUserGrid:r,allUserGrid:i,add:n,remove:o}}angular.module("app").factory("orgUserSvc",t),t.$inject=["$http","$compile"]}(),function(){"use strict";function t(t,e){var o=this;o.title="角色列表",o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteRole(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o)}()}angular.module("app").controller("roleCtrl",t),t.$inject=["$location","roleSvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="添加角色",n.isRoleExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新角色"),n.create=function(){e.createRole(n)},n.update=function(){e.updateRole(n)},n.checkRole=function(){e.checkRole(n)},function(){n.isUpdate?e.getRoleById(n):e.initZtreeClient(n)}()}angular.module("app").controller("roleEditCtrl",t),t.$inject=["$location","roleSvc","$state"]}(),function(){"use strict";function t(t,e){function o(){return $.fn.zTree.getZTreeObj("zTree").getCheckedNodes(!0)}function n(t){for(var e=$.fn.zTree.getZTreeObj("zTree"),o=$linq(t.model.resources).select(function(t){return t.path}).toArray(),n=e.getNodesByParam("level",1,null),i=$linq(n).where(function(t){return $linq(o).contains(t.path)}).toArray(),r=0,a=i.length;r<a;r++)e.checkNode(i[r],!0,!0)}function i(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(s),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"roleName",title:"角色名称",width:200,filterable:!1},{field:"remark",title:"描述",filterable:!1},{field:"createdDate",title:"创建时间",width:180,filterable:!1,format:"{0:yyyy/MM/dd HH:mm:ss}"},{field:"",title:"操作",width:180,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}function r(e){if(common.initJqValidation(),$("form").valid()&&0==e.isRoleExist){e.isSubmit=!0;var n=o(),i=$linq(n).where(function(t){return 0==t.isParent}).select(function(t){return{id:t.id,name:t.name,path:t.path,method:t.method}}).toArray();e.model.resources=i;var r={method:"post",url:s,data:e.model},a=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),location.href=u}})}})};common.http({vm:e,$http:t,httpOptions:r,success:a})}}function a(t){}function c(e){var o={method:"get",url:common.format(s+"?$filter=id eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0],e.isUpdate&&m(e)};common.http({vm:e,$http:t,httpOptions:o,success:n})}function l(e){if(common.initJqValidation(),$("form").valid()&&0==e.isRoleExist){e.isSubmit=!0,e.model.id=e.id;var n=o(),i=$linq(n).where(function(t){return 0==t.isParent}).select(function(t){return{id:t.id,name:t.name,path:t.path,method:t.method}}).toArray();e.model.resources=i,e.model.createdDate="2017-04-07 12:00:00";var r={method:"put",url:s,data:e.model},a=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:r,success:a})}}function d(e,o){e.isSubmit=!0;var n={method:"delete",url:s,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function m(e){var o={method:"get",url:f},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){var o={check:{chkboxType:{Y:"ps",N:"ps"},enable:!0}},i=t.data;$.fn.zTree.init($("#zTree"),o,i),e.isUpdate&&n(e)}})};common.http({vm:e,$http:t,httpOptions:o,success:i})}var s=rootPath+"/role",u="#/role",f=rootPath+"/sys/resource";return{grid:i,createRole:r,checkRole:a,getRoleById:c,updateRole:l,deleteRole:d,initZtreeClient:m}}angular.module("app").factory("roleSvc",t),t.$inject=["$http","$compile"]}(),function(){"use strict";function t(t,e){var o=this;o.title="预定会议统计列表",o.showClick=function(){e.showClick(o)},o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteroomCount(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o),e.roomShow(o)}()}angular.module("app").controller("roomCountCtrl",t),t.$inject=["$location","roomCountSvc"]}(),function(){"use strict";function t(t,e){function o(e){t.get(a+"/roomShow").success(function(t){e.room={},e.room=t}).error(function(t){alert("查询会议室失败")})}function n(t){var e=new Array,o=0;if(null!=t.model.rbName){var n={};n.name="rbName",n.value=t.model.rbName,e[o++]=n}if(null!=t.model.mrID){var n={};n.name="mrID",n.value=t.model.mrID,e[o++]=n}if(null!=t.model.rbType){var n={};n.name="rbType",n.value=t.model.rbType,e[o++]=n}if(null!=t.model.dueToPeople){var n={};n.name="dueToPeople",n.value=t.model.dueToPeople,e[o++]=n}for(var i="?$filter=",r=0;r<e.length;r++)r>0&&(i+=" and "),i+=e[r].name+" eq '"+e[r].value+"'";return i}function i(e){var o=n(e),i={method:"get",url:a+o},r=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions.dataSource.data([]),e.gridOptions.dataSource.data(t.data.value),e.gridOptions.dataSource.total(t.data.count)}})};common.http({vm:e,$http:t,httpOptions:i,success:r})}function r(t){$(document).ready(function(){kendo.culture("zh-CN"),$("#beginTime").kendoDatePicker({format:"yyyy-MM-dd"})}),$(document).ready(function(){kendo.culture("zh-CN"),$("#endTime").kendoDatePicker({format:"yyyy-MM-dd"})});var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(a),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{field:"rowNumber",title:"序号",width:80,template:"<span class='row-number'></span>"},{field:"rbName",title:"会议名称",width:120,filterable:!1},{field:"addressName",title:"会议地点",width:120,filterable:!1},{field:"rbDay",title:"会议日期",width:160,filterable:!1},{field:"beginTime",title:"会议开始时间",width:160,filterable:!1},{field:"endTime",title:"会议结束时间",width:160,filterable:!1},{field:"rbType",title:"会议类型",width:100,filterable:!1},{field:"dueToPeople",title:"会议预定人",width:100,filterable:!1}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}var a=(rootPath,rootPath+"/room");rootPath;return{grid:r,roomShow:o,showClick:i}}angular.module("app").factory("roomCountSvc",t),t.$inject=["$http","$compile"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="会议室预定列表",n.exportWeek=function(){e.exportWeek()},n.exportThisWeek=function(){e.exportThisWeek()},n.exportNextWeek=function(){e.exportNextWeek()},n.stageNextWeek=function(){e.stageNextWeek()},n.findMeeting=function(){e.findMeeting(n)},n.del=function(t){common.confirm({vm:n,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteRoom(n,t)}})},n.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:n,msg:"请选择数据"});else{for(var e=[],o=0;o<t.length;o++)e.push(t[o].value);var i=e.join(",");n.del(i)}},function(){e.initRoom(n),e.showMeeting(n)}()}angular.module("app").controller("roomCtrl",t),t.$inject=["$location","roomSvc","$scope"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="添加会议室预定",n.isuserExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新会议室"),n.create=function(){e.createroom(n)},n.update=function(){e.updateroom(n)},function(){n.isUpdate&&e.getroomById(n)}()}angular.module("app").controller("roomEditCtrl",t),t.$inject=["$location","roomSvc","$state"]}(),function(){"use strict";function t(t){function e(e){var o=new kendo.data.SchedulerDataSource({batch:!0,sync:function(){this.read()},transport:{read:function(e){var o=e.data.mrID,n=rootPath+"/room";o&&(n+="?"+o),t.get(n).success(function(t){e.success(t.value)}).error(function(t){alert("查询失败")})},create:function(t){i(t)},update:function(t){r(t)},destroy:function(t){a(t)},parameterMap:function(t,e){if("read"!==e&&t.models)return{models:kendo.stringify(t.models)}}},serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,schema:{model:{id:"taskId",fields:{taskId:{from:"id"},title:{from:"addressName",defaultValue:"addressName"},start:{type:"date",from:"beginTime"},end:{type:"date",from:"endTime"},host:{type:"string",from:"host"}}}}});e.schedulerOptions={date:new Date,startTime:new Date,height:600,views:["day","workWeek",{
type:"week",selected:!0},"month","agenda"],editable:{template:$("#customEditorTemplate").html()},eventTemplate:$("#event-template").html(),edit:function(t){},timezone:"Etc/UTC",dataSource:o}}function o(e){t.get(s+"/meeting").success(function(t){e.meeting={},e.meeting=t}).error(function(t){alert("查询会议室失败")})}function n(t){t.schedulerOptions.dataSource.read({mrID:common.format("$filter=mrID eq '{0}'",t.mrID)})}function i(e){var o=e.data.models[0],n={};n.rbName=o.rbName,n.rbDay=$("#rbDay").val(),n.beginTime=$("#beginTime").val(),n.endTime=$("#endTime").val(),n.host=o.host,n.mrID=o.mrID,n.rbType=o.rbType,n.dueToPeople=o.dueToPeople,n.content=o.content,n.remark=o.remark,common.initJqValidation();var i=$("form").valid();if(alert(i),i){e.isSubmit=!0;var r={method:"post",url:s,data:n},a=function(t){e.isSubmit=!1,common.requestSuccess({vm:e,response:t,fn:function(){var o=t.data.isSuccess;e.message=o?"":t.data.message}}),alert("添加成功")};common.http({vm:e,$http:t,httpOptions:r,success:a})}}function r(e){var o=e.data.models[0],n={};if(n.rbName=o.rbName,n.id=o.id,n.rbDay=$("#rbDay").val(),n.beginTime=$("#beginTime").val(),n.endTime=$("#endTime").val(),n.host=o.host,n.mrID=o.mrID,n.rbType=o.rbType,n.dueToPeople=o.dueToPeople,n.content=o.content,n.remark=o.remark,common.initJqValidation(),$("form").valid()){e.isSubmit=!0;var i={method:"put",url:s,data:n},r=function(t){common.requestSuccess({vm:e,response:t,fn:function(){alert("编辑成功")}})};common.http({vm:e,$http:t,httpOptions:i,success:r})}}function a(e){var o=e.data.models[0],n=o.id,i={method:"delete",url:s,data:n},r=function(t){common.requestSuccess({vm:e,response:t})};common.http({vm:e,$http:t,httpOptions:i,success:r})}function c(){window.open(s+"/exports")}function l(){window.open(s+"/exportWeek")}function d(){window.open(s+"/exportNextWeek")}function m(){window.open(s+"/stageNextWeek")}var s=rootPath+"/room";return{initRoom:e,createRoom:i,updateRoom:r,showMeeting:o,findMeeting:n,exportWeek:c,exportThisWeek:l,exportNextWeek:d,stageNextWeek:m}}angular.module("app").factory("roomSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e,o){var n=this;n.model={},n.title="新增收文",n.create=function(){e.createSign(n)}}angular.module("app").controller("signCreateCtrl",t),t.$inject=["$location","signSvc","$state"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="收文列表",e.grid(n),n.querySign=function(){e.querySign(n)},n.del=function(t){common.confirm({vm:n,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteSign(n,t)}})},n.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:n,msg:"请选择数据"});else{for(var e=[],o=0;o<t.length;o++)e.push(t[o].value);var i=e.join(",");n.del(i)}},n.startFlow=function(t){common.confirm({vm:n,title:"",msg:"发起流程后，将不能对信息进行修改，确认发起流程么？",fn:function(){$(".confirmDialog").modal("hide"),e.startFlow(n,t)}})},n.stopFlow=function(t){common.confirm({vm:n,title:"",msg:"停止流程后，将无法对流程环节进行操作，确认停止么？",fn:function(){$(".confirmDialog").modal("hide"),e.stopFlow(n,t)}})},n.restartFlow=function(t){common.confirm({vm:n,title:"",msg:"确认重启流程么？",fn:function(){$(".confirmDialog").modal("hide"),e.restartFlow(n,t)}})}}angular.module("app").controller("signCtrl",t),t.$inject=["$location","signSvc","$state"]}(),function(){"use strict";function t(t,e,o){var n=this;n.model={},n.title="填写报审登记表",n.model.signid=o.params.signid,n.flowDeal=!1,e.initFillData(n),n.updateFillin=function(){e.updateFillin(n)},n.updateFillin=function(){e.updateFillin(n)},n.findUsersByOrgId=function(t){e.findUsersByOrgId(n,t)}}angular.module("app").controller("signFillinCtrl",t),t.$inject=["$location","signSvc","$state"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="项目待处理",e.flowgrid(n)}angular.module("app").controller("signFlowCtrl",t),t.$inject=["$location","signSvc","$state"]}(),function(){"use strict";function t(t,e,o,n){var i=this;i.title="项目流程处理",i.model={},i.flow={},i.model.signid=o.params.signid,i.flow.taskId=o.params.taskId,i.flow.processInstanceId=o.params.processInstanceId,function(){$("#myTab li").click(function(t){var e=$("a",this);t.preventDefault(),e.tab("show");var o=e.attr("for-div");$(".tab-pane").removeClass("active").removeClass("in"),$("#"+o).addClass("active").addClass("in").show(500)}),i.flowDeal=!0,n.initFlowData(i),n.getNextStepInfo(i),e.initFlowPageData(i)}(),i.commitNextStep=function(){n.commit(i)},i.commitBack=function(){alert("流程回退！")},i.commitOver=function(){alert("流程结束！")},i.hideWorkBt=function(){return"approval"==i.flow.curNodeAcivitiId?i.model.isreviewcompleted>0?(i.showWorkBt=!1,!0):(i.showWorkBt=!0,!1):(i.showWorkBt=!1,!0)},i.addWorkProgram=function(){o.go("workprogramEdit",{signid:i.model.signid})},i.hideDisPatchBt=function(){var t=!0;return"dispatch"==i.flow.curNodeAcivitiId&&(t=i.model.isDispatchCompleted>0),t},i.addDisPatch=function(){o.go("dispatchEdit",{signid:i.model.signid})}}angular.module("app").controller("signFlowDealCtrl",t),t.$inject=["$location","signSvc","$state","flowSvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.model={},n.title="查看详情信息",n.model.signid=o.params.signid,e.initDetailData(n)}angular.module("app").controller("signDetailsCtrl",t),t.$inject=["$location","signSvc","$state"]}(),function(){"use strict";function t(t,e){function o(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(rootPath+"/sign",$("#searchform")),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:3,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.signid)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"projectname",title:"项目名称",width:160,filterable:!1},{field:"projectcode",title:"项目编号",width:160,filterable:!1},{field:"maindeptName",title:"主办事处名称",width:100,filterable:!1},{field:"mainDeptUserName",title:"主办事处联系人",width:100,filterable:!1},{field:"createdDate",title:"创建时间",width:160,filterable:!1,format:"{0:yyyy/MM/dd HH:mm:ss}"},{field:"",title:"流程状态",width:160,filterable:!1,template:function(t){return t.folwState?1==t.folwState?"进行中":2==t.folwState?"已暂停":8==t.folwState?"强制结束":9==t.folwState?"已完成":void 0:"未发起"}},{field:"",title:"操作",width:180,template:function(t){var e=!1,o=!0,n=!0;return t.folwState&&t.folwState>0&&(e=!0,1==t.folwState&&(o=!1),2==t.folwState&&(n=!1)),common.format($("#columnBtns").html(),t.signid,t.signid,e,"vm.del('"+t.signid+"')",e,"vm.startFlow('"+t.signid+"')",e,"vm.stopFlow('"+t.signid+"')",o,"vm.restartFlow('"+t.signid+"')",n)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}function n(t){t.gridOptions.dataSource.read()}function i(o){if(common.initJqValidation(),$("form").valid()){var n={method:"post",url:rootPath+"/sign",data:o.model},i=function(t){common.requestSuccess({vm:o,response:t,fn:function(){common.alert({vm:o,msg:"操作成功,请继续填写报审登记表！",fn:function(){e.go("fillSign",{signid:t.data})}})}})};common.http({vm:o,$http:t,httpOptions:n,success:i})}}function r(e,o){var n={};n.orgId="main"==o?e.model.maindepetid:e.model.assistdeptid;var i={method:"get",url:rootPath+"/user/findUsersByOrgId",params:n},r=function(t){common.requestSuccess({vm:e,response:t,fn:function(){"main"==o?(e.mainUserList={},e.mainUserList=t.data):(e.assistUserList={},e.assistUserList=t.data)}})};common.http({vm:e,$http:t,httpOptions:i,success:r})}function a(e){var o={method:"put",url:rootPath+"/sign",data:e.model},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function c(e,o){e.isSubmit=!0;var n={method:"delete",url:rootPath+"/sign",data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function l(e){var o={method:"get",url:rootPath+"/sign/html/initFillPageData",params:{signid:e.model.signid}},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.model=t.data.sign,e.orglist=t.data.orgList,t.data.mainUserList&&(e.mainUserList=t.data.mainUserList),t.data.assistUserList&&(e.assistUserList=t.data.assistUserList)}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function d(e){var o={method:"get",url:rootPath+"/sign/html/initDetailPageData",params:{signid:e.model.signid}},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.model=t.data}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function m(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(rootPath+"/sign/html/initflow"),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{field:"",title:"序号",template:"<span class='row-number'></span>",width:30},{field:"projectname",title:"项目名称",width:200,filterable:!0},{field:"projectcode",title:"项目编号",width:200,filterable:!0},{field:"createdDate",title:"创建时间",width:180,filterable:!1,format:"{0:yyyy/MM/dd HH:mm:ss}"},{field:"",title:"操作",width:180,template:function(t){var e=!1;return t.folwState&&2==t.folwState&&(e=!0),common.format($("#columnBtns").html(),t.signid,t.taskId,t.processInstanceId,e)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0,dataBound:function(){var t=this.items(),e=this.pager.page()-1,o=this.pager.pageSize();$(t).each(function(){var t=$(this).index()+1+e*o,n=$(this).find(".row-number");$(n).html(t)})}}}function s(e,o){var n={method:"post",url:rootPath+"/sign/html/startFlow",params:{signid:o}},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions.dataSource.read(),common.alert({vm:e,msg:"操作成功"})}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function u(e,o){var n={method:"post",url:rootPath+"/sign/html/stopFlow",params:{signid:o}},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions.dataSource.read(),common.alert({vm:e,msg:"操作成功"})}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function f(e,o){var n={method:"post",url:rootPath+"/sign/html/restartFlow",params:{signid:o}},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.gridOptions.dataSource.read(),common.alert({vm:e,msg:"操作成功"})}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function p(e){var o={method:"get",url:rootPath+"/sign/html/initFlowPageData",params:{signid:e.model.signid,taskId:e.flow.taskId}},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.model=t.data,e.hideWorkBt(),e.model.isreviewcompleted>0&&(e.work=t.data.workProgramDto),e.hideDisPatchBt()}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}return{grid:o,querySign:n,createSign:i,initFillData:l,initDetailData:d,updateFillin:a,deleteSign:c,flowgrid:m,startFlow:s,stopFlow:u,restartFlow:f,findUsersByOrgId:r,initFlowPageData:p}}angular.module("app").factory("signSvc",t),t.$inject=["$http","$state"]}(),function(){"use strict";function t(t,e){var o=this;o.title="用户列表",o.del=function(t){common.confirm({vm:o,title:"",msg:"确认删除数据吗？",fn:function(){$(".confirmDialog").modal("hide"),e.deleteUser(o,t)}})},o.dels=function(){var t=common.getKendoCheckId(".grid");if(0==t.length)common.alert({vm:o,msg:"请选择数据"});else{for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);var i=e.join(",");o.del(i)}},function(){e.grid(o)}()}angular.module("app").controller("userCtrl",t),t.$inject=["$location","userSvc"]}(),function(){"use strict";function t(t,e,o){var n=this;n.title="添加用户",n.isuserExist=!1,n.id=o.params.id,n.id&&(n.isUpdate=!0,n.title="更新用户"),n.create=function(){e.createUser(n)},n.update=function(){e.updateUser(n)},function(){n.isUpdate?e.getUserById(n):(e.initZtreeClient(n),e.getDict(n)),e.getOrg(n)}()}angular.module("app").controller("userEditCtrl",t),t.$inject=["$location","userSvc","$state"]}(),function(){"use strict";function t(t){function e(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0,e.model.id=e.id;var o=d(),n=$linq(o).where(function(t){return 0==t.isParent}).select(function(t){return{id:t.id,roleName:t.name}}).toArray();e.model.roles=n;var i={method:"put",url:s,data:e.model},r=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide")}})}})};common.http({vm:e,$http:t,httpOptions:i,success:r})}}function o(e,o){e.isSubmit=!0;var n={method:"delete",url:s,data:o},i=function(t){common.requestSuccess({vm:e,response:t,fn:function(){e.isSubmit=!1,e.gridOptions.dataSource.read()}})};common.http({vm:e,$http:t,httpOptions:n,success:i})}function n(e){if(common.initJqValidation(),$("form").valid()){e.isSubmit=!0;var o=d(),n=$linq(o).where(function(t){return 0==t.isParent}).select(function(t){return{id:t.id,roleName:t.name}}).toArray();e.model.roles=n;var i={method:"post",url:s,data:e.model},r=function(t){common.requestSuccess({vm:e,response:t,fn:function(){common.alert({vm:e,msg:"操作成功",fn:function(){e.isSubmit=!1,$(".alertDialog").modal("hide"),$(".modal-backdrop").remove(),location.href=u}})}})};common.http({vm:e,$http:t,httpOptions:i,success:r})}}function i(e){var o={method:"get",url:p},n=function(t){e.sex=t.data,console.log(e.sex)};common.http({vm:e,$http:t,httpOptions:o,success:n})}function r(e){var o={method:"get",url:common.format(s+"/getOrg")},n=function(t){e.org={},e.org=t.data,console.log(e.org)};common.http({vm:e,$http:t,httpOptions:o,success:n})}function a(e){var o={method:"get",url:f},n=function(t){common.requestSuccess({vm:e,response:t,fn:function(){var o={check:{chkboxType:{Y:"ps",N:"ps"},enable:!0}},n=$linq(t.data.value).select(function(t){return{id:t.id,name:t.roleName}}).toArray(),i={id:"",name:"角色集合",children:n};$.fn.zTree.init($("#zTree"),o,i),e.isUpdate&&m(e)}})};common.http({vm:e,$http:t,httpOptions:o,success:n})}function c(e){var o={method:"get",url:common.format(s+"?$filter=id eq '{0}'",e.id)},n=function(t){e.model=t.data.value[0],e.isUpdate&&a(e)};common.http({vm:e,$http:t,httpOptions:o,success:n})}function l(t){var e=new kendo.data.DataSource({type:"odata",transport:common.kendoGridConfig().transport(s),schema:common.kendoGridConfig().schema({id:"id",fields:{createdDate:{type:"date"}}}),serverPaging:!0,serverSorting:!0,serverFiltering:!0,pageSize:10,sort:{field:"createdDate",dir:"desc"}}),o=[{template:function(t){return kendo.format("<input type='checkbox'  relId='{0}' name='checkbox' class='checkbox' />",t.id)},filterable:!1,width:40,title:"<input id='checkboxAll' type='checkbox'  class='checkbox'  />"},{field:"loginName",title:"登录名",width:100,filterable:!0},{field:"displayName",title:"显示名",width:100,filterable:!0},{field:"userSex",title:"性别",width:80,filterable:!1},{field:"userPhone",title:"联系电话",width:80,filterable:!1},{field:"userMPhone",title:"联系手机",width:80,filterable:!1},{field:"email",title:"电子邮件",width:80,filterable:!1},{field:"orgDto.name",title:"所属部门",width:100,filterable:!1},{field:"jobState",title:"在职情况",width:80,filterable:!1},{field:"useState",title:"是否停用",width:80,filterable:!1},{field:"pwdState",title:"更改密码",width:80,filterable:!1},{field:"userIP",title:"登录IP",width:160,filterable:!1},{field:"lastLogin",title:"最后登录时间",width:160,filterable:!1},{field:"createdDate",title:"创建时间",width:160,filterable:!1,format:"{0:yyyy/MM/dd HH:mm:ss}"},{field:"remark",title:"描述",filterable:!1},{field:"",title:"操作",width:140,template:function(t){return common.format($("#columnBtns").html(),"vm.del('"+t.id+"')",t.id)}}];t.gridOptions={dataSource:common.gridDataSource(e),filterable:common.kendoGridConfig().filterable,pageable:common.kendoGridConfig().pageable,noRecords:common.kendoGridConfig().noRecordMessage,columns:o,resizable:!0}}function d(){return $.fn.zTree.getZTreeObj("zTree").getCheckedNodes(!0)}function m(t){for(var e=$.fn.zTree.getZTreeObj("zTree"),o=$linq(t.model.roles).select(function(t){return t.roleName}).toArray(),n=e.getNodesByParam("level",1,null),i=$linq(n).where(function(t){return $linq(o).contains(t.name)}).toArray(),r=0,a=i.length;r<a;r++)e.checkNode(i[r],!0,!0)}var s=rootPath+"/user",u="#/user",f=rootPath+"/role",p=rootPath+"/dict";return{grid:l,getUserById:c,initZtreeClient:a,createUser:n,deleteUser:o,updateUser:e,getOrg:r,getDict:i}}angular.module("app").factory("userSvc",t),t.$inject=["$http"]}(),function(){"use strict";function t(t,e,o){var n=this;n.work={},n.title="创建评审方案",n.work.signId=o.params.signid,alert(n.work.signId),e.initPage(n),n.create=function(){e.createWP(n)}}angular.module("app").controller("workprogramEditCtrl",t),t.$inject=["$location","workprogramSvc","$state"]}(),function(){"use strict";function t(t,e,o){function n(t){}function i(o){if(common.initJqValidation($("#work_program_form")),$("#work_program_form").valid()){o.commitProcess=!0;var n={method:"post",url:rootPath+"/workprogram",data:o.work},i=function(e){common.requestSuccess({vm:o,response:e,fn:function(){common.alert({vm:o,msg:"操作成功,请继续处理流程！",fn:function(){t.back()}})}})};common.http({vm:o,$http:e,httpOptions:n,success:i})}}return{initPage:n,createWP:i}}angular.module("app").factory("workprogramSvc",t),t.$inject=["$rootScope","$http","$state"]}();