<meta charset="UTF-8">

<style>
    .ztree-wrap {width:240px; height:360px; overflow:auto;}
    .site-wraps {width:100%;   max-height: 250px; overflow:auto;}
</style>
<div style="width:20%;min-height:600px;border-right:1px solid #888888;float:left;">
    <ul id="zTree" class="ztree"></ul>
</div>
<div style="width:78%;min-height:600px;margin-left:15px;float:left;">
    <table class="table table-bordered" style="width: 98%;">
        <tr class="active">
            <td style="width: 250px;" align="center">文件名称</td>
            <td style="width: 120px;" align="center">分类</td>
            <td style="width: 100px;" align="center">上传人</td>
            <td style="width: 200px;" align="center">时间</td>
            <td style="width: 200px;" align="center">操作</td>
        </tr>
        <tr ng-repeat="x in vm.sysFileList ">
            <td style="text-align: center;">
                <i class="fa fa-file-image-o" aria-hidden="true"  ng-show="x.fileType =='.png' || x.fileType =='.jpg' || x.fileType =='.gif'"></i>
                <i class="fa fa-file-word-o" aria-hidden="true" ng-show="x.fileType =='.docx' || x.fileType =='.doc'"></i>
                <i class="fa fa-file-excel-o" aria-hidden="true" ng-show="x.fileType =='.xlsx' || x.fileType =='.xls'"></i>
                <i class="fa fa-file-powerpoint-o" aria-hidden="true" ng-show="x.fileType =='.pptx' || x.fileType =='.ppt'"></i>
                <i class="fa fa-file-pdf-o" aria-hidden="true" ng-show="x.fileType =='.pdf'"></i>
                <a ng-click="vm.commonDownloadSysFile(x.sysFileId)">{{ x.showName }}</a>
            </td>
            <td style="text-align: center;">{{ x.sysBusiType }}</td>
            <td style="text-align: center;">{{ x.createdBy }}</td>
            <td style="text-align: center;">{{ x.createdDate }}</td>
            <td style="text-align: center;">
                <button ng-click="vm.commonDownloadSysFile(x.sysFileId)" id="linksbtn" class="btn btn-xs btn-primary"><i
                        class="fa fa-cloud-download" aria-hidden="true"></i>下载
                </button>
                <!-- word 类型，在线编辑&ndash;&gt;-->
                <span ng-if="x.fileType =='.docx' || x.fileType =='.doc' || x.fileType =='.xlsx' || x.fileType =='.xls' || x.fileType =='.ppt' || x.fileType =='.pptx'">
                <button ng-click="previewFile(x.sysFileId,'office')" class="btn btn-xs btn-primary"><span
                        class="glyphicon glyphicon-pencil"></span>编辑</button>
            </span>
                <!-- pdf 文件&ndash;&gt;-->
                <span ng-if="x.fileType =='.pdf' || x.fileType =='.docx' || x.fileType =='.doc' || x.fileType =='.xlsx' || x.fileType =='.xls' || x.fileType =='.ppt' || x.fileType =='.pptx' ">
                <button ng-click="previewFile(x.sysFileId,'pdf');" class="btn btn-xs btn-primary"><span class="glyphicon glyphicon-search"></span>查看</button>
            </span>
                <!-- image 文件&ndash;&gt;-->
                <span ng-if="x.fileType =='.png' || x.fileType =='.jpg' || x.fileType =='.gif'">
                <button ng-click="previewFile(x.sysFileId,'image');" class="btn btn-xs btn-primary"><span class="glyphicon glyphicon-search"></span>查看</button>
            </span>
            </td>
        </tr>
    </table>
</div>
<div style="clear:both;"></div>

<!-- E 收文上传附件列表 -->
<div id="previewModal" style="display:none;">
    <iframe id="iframePreview" width='100%' height='800' allowfullscreen webkitallowfullscreen></iframe>
</div>