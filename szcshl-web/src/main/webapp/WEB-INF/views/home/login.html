<#assign path=request.contextPath/>
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta charset="UTF-8">
    <title>用户登录</title>
</head>
<body>
<!-- Bootstrap 3.3.6 -->
<link rel="stylesheet"
	href="${path}/contents/libs/bootstrap/dist/css/bootstrap.min.css">
<!-- Font Awesome -->
<link rel="stylesheet"
	href="${path}/contents/libs/font-awesome/css/font-awesome.min.css">
<!-- Ionicons -->
<link rel="stylesheet"
	href="${path}/contents/libs/ionicons/css/ionicons.min.css">
<!-- Theme style -->
<link rel="stylesheet"
	href="${path}/contents/libs/adminLTE/dist/css/AdminLTE.min.css">
<!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect.
    -->
<!--<link rel="stylesheet" href="/contents/libs/adminLTE/dist/css/skins/skin-blue.min.css">-->
<link href="${path}/contents/libs/adminLTE/dist/css/skins/skin-green.min.css"
	rel="stylesheet" />
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<link href="${path}/contents/libs/kendoui/kendo.common.min.css"
	rel="stylesheet" />
<link href="${path}/contents/libs/kendoui/kendo.blueopal.min.css"
	rel="stylesheet" />
<link href="${path}/contents/shared/css.css" rel="stylesheet" />
<link href="${path}/contents/shared/styleversion.css" rel="stylesheet" />
<script src="${path}/contents/libs/jquery/jquery.js"></script>

<!--Begin:自定义css-->

<!--End:自定义css -->
<style>
    body{
        background: url(${path}/contents/images/loginpage-bg.jpg) no-repeat left top/cover;
    }
    .logo{
        text-align: center;
        margin:50px auto 0;
    }
    .loginform{
        width: 450px;
        position: absolute;
        background-color:#fff;
        right: 8%;
        top: 25%;
        box-shadow: 5px 5px 5px rgba(0,0,0,0.2);
        border-radius:10px;
    }
    .loginform form{
        padding:40px;
    }
    .loginform h3{
        color:#00447a;
        font-size:24px;
        letter-spacing:2px;
        margin-bottom:30px;
    }
    .loginform .input-container{
        position: relative;
        text-align: center;
        margin:30px 0;
    }
    .loginform .input-container input{
        background:#fafafa;
        height:40px;
        width: 100%;
        padding-left:40px;
    }
    .loginform .input-container input:focus{
        border: 1px solid #128471;
        box-shadow: 0 0 10px #128471;
    }
    .loginform .input-container span{
        position: absolute;
        left: 0;
        top:-15px;
        width: 100px;
        height: 40px;
        line-height:40px;
        color:red;
    }
    .loginform .input-container span.glyphicon{
        width: 40px;
        top:0;
        font-size:16px;
        color:#128471;
    }
    .loginform-footer{
        height:100px;
        background: #eee;
        padding:20px 40px 0;
        border-radius:0 0 10px 10px;
    }
    .loginform-footer .btn{
        width: 100%;
        height: 40px;
        border-radius:10px;
        background: #03a98e;
    }
    .loginform-footer .btn:hover{
        background: #128471;
        border:none;
    }
    footer{
    position: absolute;
    bottom: 10px;
    width: 100%;
    height: 40px;
    text-align: center;
    line-height: 40px;
    color: #fff;
    }
</style>

<div class="logo">
    <img src="${path}/contents/images/loginpage-title.png" alt="">
</div>
<div class="loginform" ng-app="loginApp" ng-controller="LoginCtrl as vm">
    <div ng-include src="'${path}/contents/app/common/dialog-alert.tmpl.html'"></div>
    <div ng-include src="'${path}/contents/app/common/dialog-confirm.tmpl.html'"></div>
    <form method="post" id="form" name="form" ng-keypress="vm.keyEnter($event)" >
        <h3 style="color:#26ae95">用户登录</h3>
        <span ng-show="vm.message" class="errors" ng-bind="vm.message">${msg!''}</span>
        <div class="input-container" style="margin-bottom:10px;">
            <span class="glyphicon glyphicon-user"></span>
            <input autofocus="autofocus" type="text" class="form-control" placeholder="用户名" name="loginName" id="loginName" ng-model="vm.model.loginName" data-val="true" data-val-required="用户名必填">
        </div>
        <p data-valmsg-for="loginName" data-valmsg-replace="true" class="errors"></p>
        <div class="input-container" style="margin-bottom:10px;">
            <input type="password" class="form-control" placeholder="密码" maxlength="100"  name="password" id="password" ng-model="vm.model.password" data-val="true" data-val-required="密码必填">
            <span class="glyphicon glyphicon-lock"></span>
        </div>
        <p   data-valmsg-for="password" data-valmsg-replace="true" class="errors"></p>
    </form>
    <div class="loginform-footer" style="">
        <button ng-click="vm.submit()" ng-disabled="vm.isSubmit" class="btn btn-success" type="submit" value="登录">登录</button>
        <p style="margin-top: 10px;">温馨提示：系统常见问题请<a href="javascript:;" ng-click="vm.sysInfo()">点击这里</a> </p>
    </div>
</div>
<footer> 深圳市政府投资项目评审中心版权所有</footer>
<script src="${path}/contents/libs/jquery/jquery.js"></script>
<script src="${path}/contents/libs/bootstrap/customize/js/bootstrap.js"></script>
<script src="${path}/contents/libs/angular/angular.js"></script>
<script src="${path}/contents/libs/angular/sanitize.js"></script>
<script src="${path}/contents/libs/angular/angular-ui-router.js"></script>
<script src="${path}/contents/libs/angular-ui/angular-locale_zh-cn.js"></script>
<script src="${path}/contents/libs/boilerplate/plugins.js"></script>
<script src="${path}/contents/libs/jquery-validation/jquery.validate.js"></script>
<script src="${path}/contents/libs/jquery-validation/jquery.validate.unobtrusive.js"></script>
<script src="${path}/contents/app/common/common.js"></script>

<!-- 弹窗说明 begin-->
<div id="showDetailDiv" style="display: none;">
    <table class="table table-bordered">
        <tr>
            <td style="width:100px;">系统说明</td>
            <td>由于IE浏览器版本问题，目前系统只兼容IE9或以上的版本，若你的系统浏览器的IE版本低于IE8，请下载google浏览器运行。</td>
        </tr>
        <tr>
            <td>安装文件下载</td>
            <td>
                1、谷歌浏览器安装 <a class="btn btn-xs btn-primary" href="${path}/contents/plugins/chrome_installer.exe" ><i class="fa fa-download" aria-hidden="true"></i>下载</a></td>
            </td>
        </tr>
    </table>
</div>
<!-- 弹窗说明 end-->
<!-- kendo -->
<link href="${path}/contents/libs/kendoui/kendo.common.min.css" rel="stylesheet"/>
<link href="${path}/contents/libs/kendoui/kendo.blueopal.min.css"  rel="stylesheet"/>
<script src="${path}/contents/libs/kendoui/kendo.all.min.js"></script>
<script src="${path}/contents/libs/kendoui/kendo.message.zh-CN.js"></script>
<script src="${path}/contents/libs/kendoui/kendo.culture.zh-CN.min.js"></script>


<script>
    (function () {
        'use strict';
        angular.module('loginApp',[]).controller('LoginCtrl', controller);

        controller.$inject = ['$http'];

        function controller($http) {
            var vm = this;
            vm.title = 'controller';
            vm.message = "${msg!''}";
            vm.submit = function () {
                common.initJqValidation();
                var isValid = $('form').valid();
                if (isValid) {
                    vm.isSubmit = true;
                    $('form').submit();
                }
            }

            //新增弹窗
            vm.sysInfo = function(){
                $("#showDetailDiv").kendoWindow({
                    width : "600px",
                    height : "400px",
                    title : "系统说明",
                    visible : false,
                    modal : true,
                    closable : true,
                    actions : [ "Pin", "Minimize", "Maximize", "Close" ]
                }).data("kendoWindow").center().open();
            }

            vm.keyEnter = function (e) {
                if (e.which === 13) {
                    vm.submit()
                }
            }

            activate();
            function activate() {
            }

        }
    })();
</script>

</body>
</html>