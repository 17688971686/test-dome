<meta charset="UTF-8">
<div id="queryStatisticsWindow" class="well well-sm" style="width:99%;background:white; display: none">

    <div class="well">
        <span>标题：</span>
        <input type="text" ng-model="vm.fileName"/>
        <button class="btn btn-sm btn-success" ng-click="vm.selectHeader()">自定义报表</button>
        <button class="btn btn-sm btn-success" ng-click="vm.countDay()">统计项目平均天数</button>
        <button class="btn btn-sm btn-success" ng-click="vm.countWork()">统计工作日</button>
        <button class="btn btn-sm btn-primary" ng-click="vm.excelExport()">导出</button>
    </div>
    <div ng-show="vm.isopens">
        <span ng-show="vm.isDay">统计项目的平均天数为：{{vm.averageDay | number:0}}</span>
        <span ng-hide="vm.isDay">统计工作日为：{{vm.averageDay | number:0}}</span>
    </div>

    <table class="table table-bordered">
        <caption class="text-center">
            <h3>{{vm.fileName}}</h3>
            <span>{{vm.smallTitle}}</span>
        </caption>
        <tr>
            <td style="width: 2%">
                <input id="checkboxAll" type="checkbox" class="checkbox" ng-model="selectAll"
                       ng-click="vm.all(selectAll)"/>
            </td>
            <td style="width: 4%">序号</td>
            <td style="width: 10%">收文编号</td>
            <td style="width: 32%">项目名称</td>
            <td style="width: 20%">建设单位</td>
            <td style="width: 10%">收文日期</td>
            <td style="width: 6%">评审天数</td>
            <td style="width: 10%">剩余工作日</td>
        </tr>
        <tr ng-repeat="x in vm.signList">
            <td>
                <input type="checkbox" id="{{x.signid}}" ng-checked="selectAll" ng-model="x.state"
                       ng-click="vm.checks(x.reviewdays,x.surplusdays,x.signid)"/>
            </td>
            <td>{{$index +1}}</td>
            <td>{{x.dfilenum}}</td>
            <td>{{x.projectname}}</td>
            <td>{{x.builtcompanyname}}</td>
            <td>{{x.receivedate}}</td>
            <td>{{x.reviewdays}}</td>
            <td>{{x.surplusdays}}</td>
        </tr>
    </table>
</div>
