<#assign path=request.contextPath/>
<meta charset="UTF-8">
<div ng-include src="'${path}/contents/app/common/dialog-alert.tmpl.html'"></div>
<div ng-include src="'${path}/contents/app/common/dialog-confirm.tmpl.html'"></div>
<#include "/sign/signAssociate.html"/>
<div class="well well-sm" style="background:white;">
    <ol class="breadcrumb">
        <li><a href="#/listSign">项目签收管理</a></li>
        <li class="active">{{vm.title}}</li>
    </ol>    
    <div class="well">
	    <form id="searchform" name="searchform">
	    	<span class="help-inline">项目名称：</span>
	    	<input type="text" ng-model="vm.model.projectname" operator="like" name="projectname" id="projectnam" placeholder="请输入">
	    	
	    	<span class="help-inline" style="margin-left:10px;">项目编号：</span>
	    	<input type="text" ng-model="vm.model.projectcode" operator="eq" name="projectcode" id="projectcode" placeholder="请输入">	    		
	    	
	    	<a class="btn btn-sm btn-primary" style="margin-left:10px;" ng-click="vm.querySign()">查询</a>   	   	    		    		  	
	 		
	 		<@shiro.hasPermission name="sign##delete">           
            	<button class="btn btn-sm btn-danger" ng-click="vm.dels()" ng-disabled="vm.isSubmit"><span class="glyphicon glyphicon-remove"></span>批量删除</button>
        	</@shiro.hasPermission>
        		 	 	 
	   	</form>      
	 </div> 
	     	
	 <div class="grid" kendo-grid="grid" k-options="vm.gridOptions"></div>                   
</div>

<script type="text/template" id="columnBtns">		
	<@shiro.hasPermission name="sign##put">
	       <a class="btn btn-xs btn-primary" href="#/fillSign/{0}" ng-hide="{1}"><span class="glyphicon glyphicon-pencil"></span>编辑</a>
	</@shiro.hasPermission>

	<a class="btn btn-xs btn-info" href="#/signDetails/{2}" ><span class="glyphicon glyphicon-comment"></span>查看详情</a>

	<@shiro.hasPermission name="sign##delete">
		<button class="btn btn-xs btn-danger"  ng-click="{3}" ng-hide="{4}"><span class="glyphicon glyphicon-remove"></span>删除</button>
	</@shiro.hasPermission>
	<!-- 发起流程 -->
	<button class="btn btn-xs btn-success"  ng-click="{5}" ng-hide="{6}"><span class="glyphicon glyphicon-share-alt"></span>签收完毕</button>

	<!-- 暂停流程 -->
	<button class="btn btn-xs btn-warning"  ng-click="{7}" ng-hide="{8}"><span class="glyphicon glyphicon-off"></span>暂停流程</button>

	<!-- 启动流程 -->
	<button class="btn btn-xs btn-success"  ng-click="{9}" ng-hide="{10}"><span class="glyphicon glyphicon-play-circle"></span>启动流程</button>
</script>
<script type="text/template" id="associateColumnBtns">
	<button class="btn btn-xs" ng-click="{0}" ng-disabled="vm.isSubmit">  <span class="glyphicon glyphicon-resize-small"></span>关联</button>
</script>
