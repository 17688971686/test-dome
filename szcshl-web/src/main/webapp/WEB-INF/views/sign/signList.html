<#assign path=request.contextPath/>
<meta charset="UTF-8">
<div ng-include src="'${path}/contents/app/common/dialog-alert.tmpl.html'"></div>
<div ng-include src="'${path}/contents/app/common/dialog-confirm.tmpl.html'"></div>
<div ng-include src="'${path}/contents/app/admin/reportList.html'"></div>

<!-- 项目综合查询页面 -->
<div class="well well-sm" style="background:white;">
    <ol class="breadcrumb">
        <li><a >项目管理</a></li>
        <li class="active">{{vm.title}}</li>
    </ol>

    <div class="toolbar">
        <button class="btn btn-sm btn-primary" ng-click="vm.searchSignList()" ng-disabled="vm.isSubmit"><span
                class="glyphicon glyphicon-search"></span>查询
        </button>
        <button class="btn btn-sm btn-primary" ng-click="vm.formReset()">
            <span class="glyphicon glyphicon-repeat"></span>重置</button>
        <!--<a class="btn btn-sm btn-primary" href="#/statisticalList/{{vm.headerType}}"> 统计</a>-->
        <button class="btn btn-sm btn-primary" ng-click="vm.statistical()">
            统计</button>
        <a class="btn btn-sm btn-primary" href="#/headerEdit/{{vm.headerType}}"> 表字段设置</a>
    </div>
    <div class="well well-sm">
        <form id="searchform" name="searchform" >
            <table style="width:100%">
                <tr>
                    <td  class="text-right" style="width:7%;">项目名称</td>
                    <td style="width:18%;">
                        <input name="projectname" type="text" operator="like" ng-model="vm.project.projectname" class="form-control input-sm "/>
                    </td>
                    <td  class="text-right" style="width:7%;">建设单位</td>
                    <td style="width:18%;">
                        <input name="builtcompanyName" type="text" operator="like" ng-model="vm.project.builtcompanyName" class="form-control input-sm "/>
                    </td>

                    <td  class="text-right" style="width:7%;">是否有环评</td>
                    <td style="width:18%;">
                        <input type="checkbox" name="ishaveeia" operator="eq" ng-model="vm.project.ishaveeia" value="9" ng-true-value="9">
                    </td>

                    <td  class="text-right" style="width:7%;">是否有其他关联</td>
                    <td style="width:18%;">
                        <input type="checkbox" name="isRelated"  operator="eq" ng-model="vm.project.isRelated"  value="9" ng-true-value="9">
                    </td>
                </tr>
                <tr>
                    <td  class="text-right">项目类型</td>
                    <td>
                        <select name="projectType" operator="eq" class="form-control select-sm" ng-model="vm.project.projecttype">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.PROJECTTYPE.dicts" value="{{x.dictName}}">{{x.dictName}}
                            </option>
                        </select>
                    </td>
                    <td  class="text-right">项目负责人</td>
                    <td>
                        <input name="aUserName" type="text" operator="like" ng-model="vm.project.aUserName" class="form-control input-sm "/>
                    </td>
                    <td  class="text-right">归档编号</td>
                    <td>
                        <input name="ffilenum" type="text" operator="like" ng-model="vm.project.ffilenum" class="form-control input-sm "/>
                    </td>
                    <td  class="text-right">主管部门</td>
                    <td>
                        <select name="mOrgId"  class="form-control select-sm " operator="eq" ng-model="vm.project.mOrgId">
                            <option value="">请选择</option>
                            <option ng-repeat="x in vm.orgDeptList" value="{{x.id}}">{{x.name}}</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td  class="text-right" style="width:150px;">项目状态</td>
                    <td>
                        <select name="signState" ng-model="vm.sign.signState" operator="eq" class="form-control select-sm " >
                            <option value="">请选择</option>
                            <option value="1">进行中</option>
                            <option value="2">已暂停</option>
                            <option value="9">已完成</option>
                        </select>
                    </td>
                    <td  class="text-right">评审阶段</td>
                    <td>
                        <select name="reviewstage"  operator="eq" class="form-control select "  ng-model="vm.project.reviewstage">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.PRO_STAGE.dicts" value="{{x.dictName}}">{{x.dictName}}</option>
                        </select>
                    </td>
                    <td  class="text-right">缓急程度</td>
                    <td>
                        <select operator="eq" name="urgencydegree" class="form-control select-sm " ng-model="vm.project.urgencydegree">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.BAOMI.dicts" value="{{x.dictName}}">{{x.dictName}}</option>
                        </select>
                    </td>
                    <td  class="text-right">评审方式</td>
                    <td>
                        <select operator="eq" name="reviewType"  class="form-control select-sm " ng-model="vm.project.reviewType">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.REVIEW_TYPE.dicts" value="{{x.dictName}}">{{x.dictName}}
                            </option>
                        </select>
                    </td>

                </tr>
                <tr>
                    <td  class="text-right">文件字号</td>
                    <td>
                        <input name="dfilenum" type="text" operator="like" class="form-control input-sm " ng-model="vm.project.dfilenum"/>
                    </td>
                    <td  class="text-right" style="width:150px;">收文日期</td>
                    <td>
                        <input type="text" name="signdate" class="form-control input" style="width: 47%"  operator="ge"
                               class="form-control input-sm " kendo-date-picker k-format="'yyyy-MM-dd'" >
                        -
                        <input type="text" name="signdate" class="form-control input" style="width: 47%"  operator="le"
                               class="form-control input-sm " kendo-date-picker k-format="'yyyy-MM-dd'" >
                    </td>

                    <td  class="text-right">发文日期</td>
                    <td>
                        <input type="text" name="dispatchDate" class="form-control input-sm " style="width: 47%" operator="ge"
                               class="form-control input-sm " kendo-date-picker k-format="'yyyy-MM-dd'" >
                        -
                        <input type="text" name="dispatchDate" class="form-control input-sm " style="width: 47%" operator="le"
                               class="form-control input-sm " kendo-date-picker k-format="'yyyy-MM-dd'" >
                    </td>
                    <td  class="text-right">归档日期</td>
                    <td>
                        <input type="text" name="fileDate" class="form-control input-sm " style="width: 47%" operator="ge"
                               class="form-control input-sm " kendo-date-picker k-format="'yyyy-MM-dd'">
                        -
                        <input type="text" name="fileDate" class="form-control input-sm " style="width: 47%" operator="le"
                               class="form-control input-sm " kendo-date-picker k-format="'yyyy-MM-dd'">
                    </td>
                </tr>
                <tr>
                    <td  class="text-right">发文类型</td>
                    <td>
                        <select operator="eq" name="dispatchType" class="form-control select-sm " ng-model="vm.project.dispatchType">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.DISPATCH_TYPE.dicts" value="{{x.dictName}}">{{x.dictName}}
                            </option>
                        </select>
                    </td>

                    <td  class="text-right">申报投资</td>
                    <td>
                        <!--   <input name="appalyInvestment" style="width: 100%" type="text" operator="like"/>-->
                      <input name="appalyInvestment" data-type='bigDecimal' style="width: 47%" type="text" operator="ge" />
                        -
                        <input name="appalyInvestment" data-type='bigDecimal' style="width: 47%" type="text" operator="le" />
                    </td>
                    <td  class="text-right">行业类型</td>
                    <td>
                        <select operator="eq" name="industryType" ng-model="vm.project.industryType"  class="form-control select-sm">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.INDUSTRYTYPE.dicts" value="{{x.dictName}}">{{x.dictName}}
                            </option>
                        </select>
                    </td>
                    <td  class="text-right">秘密等级</td>
                    <td>
                        <select operator="eq" name="secrectlevel" ng-model="vm.project.secrectlevel" class="form-control select-sm">
                            <option value="">请选择</option>
                            <option ng-repeat="x in DICT.SECRECTLEVEL.dicts" value="{{x.dictName}}">{{x.dictName}}
                            </option>
                        </select>
                </tr>
                <tr>
                    <td  class="text-right">是否暂停</td>
                    <td>
                        <input type="checkbox"  operator="eq" name="signState" value="2"  ng-model="vm.project.signState" ng-true-value="2"/>
                    </td>
                    <td  class="text-right">有补充资料函</td>
                    <td>
                        <input type="checkbox" name="isHaveSuppLetter" operator="eq"  value="9" ng-model="vm.project.isHaveSuppLetter" ng-true-value="9"/>
                    </td>
                    <td  class="text-right">有补充资料</td>
                    <td>
                        <input type="checkbox" name="isSupplementary" operator="eq" value="9" ng-model="vm.project.isSupplementary" ng-true-value="9"/>
                    </td>
                </tr>
            </table>
        </form>
    </div>
    <div id="signGrid" class="grid" kendo-grid="grid" k-options="vm.signListOptions"></div>
</div>
<script type="text/template" id="columnBtns">	
<@shiro.hasPermission name="sign##put">
	       <button class="btn btn-xs btn-primary" ng-click="{0}" ><span class="glyphicon glyphicon-pencil"></span>查看暂停信息</button>
</@shiro.hasPermission>
</script>









