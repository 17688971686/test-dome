<#assign path=request.contextPath/>
<meta charset="UTF-8">
<div ng-include src="'${path}/contents/app/common/dialog-alert.tmpl.html'"></div>
<div ng-include src="'${path}/contents/app/common/dialog-confirm.tmpl.html'"></div>

<div class="well well-sm" style="background:white;">
    <ol class="breadcrumb">
        <li><a >系统管理</a></li>
        <li class="active">{{vm.title}}</li>
    </ol>

    <form id="formDept" name="formDept" class="well well-sm">
        <span class="help-inline">处室名称：</span>
        <input type="text" ng-model="vm.model.deptName" operator="like" name="deptName"
               id="deptName" placeholder="请输入">

        <span class="help-inline"  style="margin-left: 10px;">联系人：</span>
        <input type="text" ng-model="vm.model.deptUserName" operator="like" name="deptUserName"
               id="deptUserName" placeholder="请输入">

        <button class="btn btn-sm btn-primary" style="margin-left: 10px;" ng-click="vm.queryDept()">
            <span class="glyphicon glyphicon-search"></span>查询</button>
        <a class="btn btn-sm btn-primary" href="#/deptEdit/">
            <span class="glyphicon glyphicon-plus"></span>新增</a>
        <button class="btn btn-sm btn-danger" ng-click="vm.dels()" ng-disabled="vm.isSubmit">
            <span class="glyphicon glyphicon-remove"></span>批量删除
        </button>
    </form>

    <div class="grid" kendo-grid="grid" k-options="vm.gridOptions"></div>

</div>
<script type="text/template" id="columnBtns">
    <@shiro.hasPermission name="sysDept##delete">
    <button class="btn btn-xs btn-danger" ng-click="{0}"><span class="glyphicon glyphicon-remove"></span>删除</button>
    </@shiro.hasPermission>
    <@shiro.hasPermission name="sysDept##put">
    <a class="btn btn-xs btn-primary" href="#/deptEdit/{1}"><span class="glyphicon glyphicon-pencil"></span>编辑</a>
    </@shiro.hasPermission>
    <@shiro.hasPermission name="sysDept#deptId/getDeptOfficeUsers#get">
    <a class="btn btn-xs btn-primary" href="#/deptOfficeUser/{2}"><span
            class="glyphicon glyphicon-pencil"></span>查看成员</a>
    </@shiro.hasPermission>
</script>
