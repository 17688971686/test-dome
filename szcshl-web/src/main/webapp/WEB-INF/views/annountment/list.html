<#assign path=request.contextPath/>
<meta charset="UTF-8">
<div ng-include src="'${path}/contents/app/common/dialog-alert.tmpl.html'"></div>
<div ng-include src="'${path}/contents/app/common/dialog-confirm.tmpl.html'"></div>


<div class="well well-sm" style="background:white;">
    <ol class="breadcrumb">
        <li><a href="#/annountment">通知公告管理</a></li>
        <li class="active">{{vm.title}}</li>
    </ol>
    <div class="toolbar">
        <a class="btn btn-sm btn-primary" href="#/annountmentEdit/{id:null}">
            <span class="glyphicon glyphicon-plus"></span>新增公告
        </a>
        <button class="btn btn-sm btn-primary" ng-click="vm.queryAnnountment()">
            <span class="glyphicon glyphicon-search"></span>查询
        </button>
        <a class="btn btn-sm btn-primary" ng-click="vm.resetAnnountment()">
            <span class="glyphicon glyphicon-repeat"></span>重置</a>
        <button class="btn btn-sm btn-success" ng-click="vm.bathIssue()" ng-disabled="vm.isSubmit">
            <span class="glyphicon glyphicon-cloud-upload"></span>批量发布
        </button>
        <button class="btn btn-sm btn-warning" ng-click="vm.bathUnissue()" ng-disabled="vm.isSubmit">
            <span class="glyphicon glyphicon-cloud-download"></span>取消发布
        </button>
        <button class="btn btn-sm btn-danger" ng-click="vm.dels()" ng-disabled="vm.isSubmit">
            <span class="glyphicon glyphicon-remove"></span>批量删除
        </button>
    </div>

    <form id="annountmentform" name="annountmentform" class="breadcrumb">
        <table style="width: 100%;">
            <tr>
                <td class="text-right" style="width: 50px;">标题：</td>
                <td>
                    <input type="text"  operator="like" name="anTitle" id="anTitle" placeholder="请输入标题名称">
                </td>
                <td class="text-right"  style="width: 80px;">创建日期：</td>
                <td>
                    <input name="createdDate" style="width:126px;" kendo-date-picker k-format="'yyyy-MM-dd'" value="" type="text" operator="ge"/>
                    至
                    <input name="createdDate" style="width:126px;" kendo-date-picker k-format="'yyyy-MM-dd'" value="" type="text" operator="le" />
                </td>
            </tr>
        </table>
    </form>

    <div class="grid" kendo-grid="grid" k-options="vm.gridOptions"></div>
</div>
<script type="text/template" id="columnBtns">
    <button class="btn btn-xs btn-success" ng-click="{0}"><span class="glyphicon glyphicon-edit"></span>查看</button>
    <@shiro.hasPermission name="annountment##put">
    <a class="btn btn-xs btn-primary" href="#/annountmentEdit/{1}">
        <span class="glyphicon glyphicon-pencil"></span>编辑</a>
    </@shiro.hasPermission>
    <@shiro.hasPermission name="annountment##delete">
    <button class="btn btn-xs btn-danger" ng-click="{2}"><span class="glyphicon glyphicon-remove"></span>删除</button>
    </@shiro.hasPermission>
</script>

